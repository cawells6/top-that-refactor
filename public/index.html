<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Top That! – Card Game</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Your CSS -->
  <link rel="stylesheet" href="/style.css" />

  <!-- Socket.IO client -->
  <script defer src="/socket.io/socket.io.js"></script>

  <!-- Entry‑point for your client modules -->
  <script defer type="module" src="/scripts/events.js"></script>
</head>
<body>
  <header class="header" id="main-header">
    <div class="header__content" style="display: flex; align-items: center; justify-content: space-between; padding: 0 2.5rem; background: #1b2e3c; min-height: 54px;">
      <div class="header__brand" style="display: flex; flex-direction: column; align-items: flex-start;">
        <span style="color: #FFC300; font-weight: bold; font-size: 1.4rem; letter-spacing: 0.01em;">&#x1F451; Top That!</span>
        <span style="color: #FFC300; font-size: 0.95rem; font-weight: 400; margin-top: -2px;">One Pile. One Winner. No Mercy.</span>
      </div>
      <button id="rules-button" class="btn btn-primary" style="font-size: 1rem; font-weight: 600; padding: 0.5rem 1.2rem; border-radius: 6px; background: #FFC300; color: #222;">How to Play</button>
    </div>
  </header>

  <div class="notice notice--hidden" id="notice-banner"></div>
  <div class="notice notice--hidden" id="error-banner"></div>
  <div class="modal__overlay modal__overlay--hidden" id="modal-overlay"></div>

  <main class="main-content" id="main-content">
    <!-- Lobby Screen -->
    <div class="lobby lobby--hidden" id="lobby-container">
      <div class="lobby-card" id="lobby-form-card">
        <h2 class="lobby-title">Join a Game</h2>
        <div class="lobby-form-content" id="lobby-form-content">
          <div class="form-group">
            <label for="name-input">Your Name</label>
            <input id="name-input" type="text" placeholder="Enter your name" />
          </div>
          <div class="form-group">
            <label id="name-input-error" style="display:none;color:#c00;font-size:0.95em;">Name is required</label>
          </div>
          <div class="lobby-buttons">
            <button id="create-join" class="btn btn-primary">Join Game</button>
            <button id="play-vs-computer" class="btn btn-secondary">Play vs Computer</button>
          </div>
          <div class="form-group">
            <label for="computer-count">Opponents:</label>
            <input id="computer-count" type="number" min="1" max="3" value="1" style="width: 40px;" />
          </div>
        </div>
      </div>
    </div>

    <!-- Game Table -->
    <div class="table table--hidden" id="table">
      <div class="table-slot table-slot-top"></div>
      <div class="table-slot table-slot-left"></div>
      <div class="table-center" id="center"></div>
      <div class="table-slot table-slot-right"></div>
      <div class="table-slot table-slot-bottom"></div>
    </div>
  </main>

  <footer class="footer" style="position: fixed; bottom: 0; width: 100%; background: #789; color: #fff; text-align: center; padding: 4px 0; font-size: 0.95em;">Restart Game (Dev)</footer>

  <section class="game-log game-log--hidden" id="game-log"></section>

  <div class="modal modal--hidden" id="rules-modal" role="dialog" aria-modal="true" aria-labelledby="rules-modal-title">
    <div class="modal__content">
      <h2 class="modal__title" id="rules-modal-title">Game Rules</h2>
      <button class="modal__close-button" aria-label="Close">&times;</button>
    </div>
  </div>

  <div class="toast-container" id="toast-container"></div>
</body>
</html>
