{"numFailedTestSuites":2,"numFailedTests":15,"numPassedTestSuites":14,"numPassedTests":244,"numPendingTestSuites":0,"numPendingTests":0,"numRuntimeErrorTestSuites":0,"numTodoTests":0,"numTotalTestSuites":16,"numTotalTests":259,"openHandles":[],"snapshot":{"added":0,"didUpdate":false,"failure":false,"filesAdded":0,"filesRemoved":0,"filesRemovedList":[],"filesUnmatched":0,"filesUpdated":0,"matched":0,"total":0,"unchecked":0,"uncheckedKeysByFile":[],"unmatched":0,"updated":0},"startTime":1768775254100,"success":false,"testResults":[{"assertionResults":[{"ancestorTitles":["Client Main Script (main.ts) - Join Link Only"],"duration":18,"failureDetails":[{}],"failureMessages":["\u001b[1m\u001b[31mJest encountered an unexpected token\u001b[39m\u001b[22m\n\nJest failed to parse a file. This happens e.g. when your code or its dependencies use non-standard JavaScript syntax, or when Jest is not configured to support such syntax.\n\nOut of the box Jest supports Babel, which will be used to transform your files into valid JS based on your Babel configuration.\n\nBy default \"node_modules\" folder is ignored by transformers.\n\nHere's what you can do:\n • If you are trying to use ECMAScript Modules, see \u001b[4mhttps://jestjs.io/docs/ecmascript-modules\u001b[24m for how to enable it.\n • If you are trying to use TypeScript, see \u001b[4mhttps://jestjs.io/docs/getting-started#using-typescript\u001b[24m\n • To have some of your \"node_modules\" files transformed, you can specify a custom \u001b[1m\"transformIgnorePatterns\"\u001b[22m in your config.\n • If you need a custom transformation specify a \u001b[1m\"transform\"\u001b[22m option in your config.\n • If you simply want to mock your non-JS modules (e.g. binary assets) you can stub them out with the \u001b[1m\"moduleNameMapper\"\u001b[22m config option.\n\nYou'll find more details and examples of these config options in the docs:\n\u001b[36mhttps://jestjs.io/docs/configuration\u001b[39m\nFor information about custom transformations, see:\n\u001b[36mhttps://jestjs.io/docs/code-transformation\u001b[39m\n\n\u001b[1m\u001b[31mDetails:\u001b[39m\u001b[22m\n\nC:\\Top-That-Refactor\\public\\scripts\\main.ts:17\nif (import.meta.env.MODE !== 'production' || globalThis.process?.env?.NODE_ENV !== 'production') {\n           ^^^^\n\nSyntaxError: Cannot use 'import.meta' outside a module\n    at new Script (node:vm:117:7)\n    at Runtime.createScriptFromCode (C:\\Top-That-Refactor\\node_modules\\jest-runtime\\build\\index.js:1505:14)\n    at Runtime._execModule (C:\\Top-That-Refactor\\node_modules\\jest-runtime\\build\\index.js:1399:25)\n    at Runtime._loadModule (C:\\Top-That-Refactor\\node_modules\\jest-runtime\\build\\index.js:1022:12)\n    at Runtime.requireModule (C:\\Top-That-Refactor\\node_modules\\jest-runtime\\build\\index.js:882:12)\n    at Runtime.requireModuleOrMock (C:\\Top-That-Refactor\\node_modules\\jest-runtime\\build\\index.js:1048:21)\n    at require (C:\\Top-That-Refactor\\tests\\main.joinlink.test.ts:61:26)\n    at Object.<anonymous> (C:\\Top-That-Refactor\\tests\\main.joinlink.test.ts:61:26)"],"fullName":"Client Main Script (main.ts) - Join Link Only should handle join link in URL and emit JOIN_GAME","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should handle join link in URL and emit JOIN_GAME"},{"ancestorTitles":["Client Main Script (main.ts) - Join Link Only"],"duration":5,"failureDetails":[{}],"failureMessages":["\u001b[1m\u001b[31mJest encountered an unexpected token\u001b[39m\u001b[22m\n\nJest failed to parse a file. This happens e.g. when your code or its dependencies use non-standard JavaScript syntax, or when Jest is not configured to support such syntax.\n\nOut of the box Jest supports Babel, which will be used to transform your files into valid JS based on your Babel configuration.\n\nBy default \"node_modules\" folder is ignored by transformers.\n\nHere's what you can do:\n • If you are trying to use ECMAScript Modules, see \u001b[4mhttps://jestjs.io/docs/ecmascript-modules\u001b[24m for how to enable it.\n • If you are trying to use TypeScript, see \u001b[4mhttps://jestjs.io/docs/getting-started#using-typescript\u001b[24m\n • To have some of your \"node_modules\" files transformed, you can specify a custom \u001b[1m\"transformIgnorePatterns\"\u001b[22m in your config.\n • If you need a custom transformation specify a \u001b[1m\"transform\"\u001b[22m option in your config.\n • If you simply want to mock your non-JS modules (e.g. binary assets) you can stub them out with the \u001b[1m\"moduleNameMapper\"\u001b[22m config option.\n\nYou'll find more details and examples of these config options in the docs:\n\u001b[36mhttps://jestjs.io/docs/configuration\u001b[39m\nFor information about custom transformations, see:\n\u001b[36mhttps://jestjs.io/docs/code-transformation\u001b[39m\n\n\u001b[1m\u001b[31mDetails:\u001b[39m\u001b[22m\n\nC:\\Top-That-Refactor\\public\\scripts\\main.ts:17\nif (import.meta.env.MODE !== 'production' || globalThis.process?.env?.NODE_ENV !== 'production') {\n           ^^^^\n\nSyntaxError: Cannot use 'import.meta' outside a module\n    at new Script (node:vm:117:7)\n    at Runtime.createScriptFromCode (C:\\Top-That-Refactor\\node_modules\\jest-runtime\\build\\index.js:1505:14)\n    at Runtime._execModule (C:\\Top-That-Refactor\\node_modules\\jest-runtime\\build\\index.js:1399:25)\n    at Runtime._loadModule (C:\\Top-That-Refactor\\node_modules\\jest-runtime\\build\\index.js:1022:12)\n    at Runtime.requireModule (C:\\Top-That-Refactor\\node_modules\\jest-runtime\\build\\index.js:882:12)\n    at Runtime.requireModuleOrMock (C:\\Top-That-Refactor\\node_modules\\jest-runtime\\build\\index.js:1048:21)\n    at require (C:\\Top-That-Refactor\\tests\\main.joinlink.test.ts:94:7)\n    at Runtime.isolateModulesAsync (C:\\Top-That-Refactor\\node_modules\\jest-runtime\\build\\index.js:1100:13)\n    at Object.isolateModulesAsync (C:\\Top-That-Refactor\\node_modules\\jest-runtime\\build\\index.js:1996:19)\n    at Object.isolateModulesAsync (C:\\Top-That-Refactor\\tests\\main.joinlink.test.ts:93:16)\n    at Promise.then.completed (C:\\Top-That-Refactor\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Top-That-Refactor\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Top-That-Refactor\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at _runTest (C:\\Top-That-Refactor\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Top-That-Refactor\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Top-That-Refactor\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Top-That-Refactor\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Top-That-Refactor\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Top-That-Refactor\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Top-That-Refactor\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Top-That-Refactor\\node_modules\\jest-runner\\build\\runTest.js:444:34)"],"fullName":"Client Main Script (main.ts) - Join Link Only should do nothing if no room param in URL","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should do nothing if no room param in URL"},{"ancestorTitles":["Client Main Script (main.ts) - Join Link Only"],"duration":4,"failureDetails":[{}],"failureMessages":["\u001b[1m\u001b[31mJest encountered an unexpected token\u001b[39m\u001b[22m\n\nJest failed to parse a file. This happens e.g. when your code or its dependencies use non-standard JavaScript syntax, or when Jest is not configured to support such syntax.\n\nOut of the box Jest supports Babel, which will be used to transform your files into valid JS based on your Babel configuration.\n\nBy default \"node_modules\" folder is ignored by transformers.\n\nHere's what you can do:\n • If you are trying to use ECMAScript Modules, see \u001b[4mhttps://jestjs.io/docs/ecmascript-modules\u001b[24m for how to enable it.\n • If you are trying to use TypeScript, see \u001b[4mhttps://jestjs.io/docs/getting-started#using-typescript\u001b[24m\n • To have some of your \"node_modules\" files transformed, you can specify a custom \u001b[1m\"transformIgnorePatterns\"\u001b[22m in your config.\n • If you need a custom transformation specify a \u001b[1m\"transform\"\u001b[22m option in your config.\n • If you simply want to mock your non-JS modules (e.g. binary assets) you can stub them out with the \u001b[1m\"moduleNameMapper\"\u001b[22m config option.\n\nYou'll find more details and examples of these config options in the docs:\n\u001b[36mhttps://jestjs.io/docs/configuration\u001b[39m\nFor information about custom transformations, see:\n\u001b[36mhttps://jestjs.io/docs/code-transformation\u001b[39m\n\n\u001b[1m\u001b[31mDetails:\u001b[39m\u001b[22m\n\nC:\\Top-That-Refactor\\public\\scripts\\main.ts:17\nif (import.meta.env.MODE !== 'production' || globalThis.process?.env?.NODE_ENV !== 'production') {\n           ^^^^\n\nSyntaxError: Cannot use 'import.meta' outside a module\n    at new Script (node:vm:117:7)\n    at Runtime.createScriptFromCode (C:\\Top-That-Refactor\\node_modules\\jest-runtime\\build\\index.js:1505:14)\n    at Runtime._execModule (C:\\Top-That-Refactor\\node_modules\\jest-runtime\\build\\index.js:1399:25)\n    at Runtime._loadModule (C:\\Top-That-Refactor\\node_modules\\jest-runtime\\build\\index.js:1022:12)\n    at Runtime.requireModule (C:\\Top-That-Refactor\\node_modules\\jest-runtime\\build\\index.js:882:12)\n    at Runtime.requireModuleOrMock (C:\\Top-That-Refactor\\node_modules\\jest-runtime\\build\\index.js:1048:21)\n    at require (C:\\Top-That-Refactor\\tests\\main.joinlink.test.ts:111:7)\n    at Runtime.isolateModulesAsync (C:\\Top-That-Refactor\\node_modules\\jest-runtime\\build\\index.js:1100:13)\n    at Object.isolateModulesAsync (C:\\Top-That-Refactor\\node_modules\\jest-runtime\\build\\index.js:1996:19)\n    at Object.isolateModulesAsync (C:\\Top-That-Refactor\\tests\\main.joinlink.test.ts:110:16)\n    at Promise.then.completed (C:\\Top-That-Refactor\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Top-That-Refactor\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Top-That-Refactor\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at _runTest (C:\\Top-That-Refactor\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Top-That-Refactor\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Top-That-Refactor\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Top-That-Refactor\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Top-That-Refactor\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Top-That-Refactor\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Top-That-Refactor\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Top-That-Refactor\\node_modules\\jest-runner\\build\\runTest.js:444:34)"],"fullName":"Client Main Script (main.ts) - Join Link Only should do nothing if room param is empty","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should do nothing if room param is empty"},{"ancestorTitles":["Client Main Script (main.ts) - Join Link Only"],"duration":4,"failureDetails":[{}],"failureMessages":["\u001b[1m\u001b[31mJest encountered an unexpected token\u001b[39m\u001b[22m\n\nJest failed to parse a file. This happens e.g. when your code or its dependencies use non-standard JavaScript syntax, or when Jest is not configured to support such syntax.\n\nOut of the box Jest supports Babel, which will be used to transform your files into valid JS based on your Babel configuration.\n\nBy default \"node_modules\" folder is ignored by transformers.\n\nHere's what you can do:\n • If you are trying to use ECMAScript Modules, see \u001b[4mhttps://jestjs.io/docs/ecmascript-modules\u001b[24m for how to enable it.\n • If you are trying to use TypeScript, see \u001b[4mhttps://jestjs.io/docs/getting-started#using-typescript\u001b[24m\n • To have some of your \"node_modules\" files transformed, you can specify a custom \u001b[1m\"transformIgnorePatterns\"\u001b[22m in your config.\n • If you need a custom transformation specify a \u001b[1m\"transform\"\u001b[22m option in your config.\n • If you simply want to mock your non-JS modules (e.g. binary assets) you can stub them out with the \u001b[1m\"moduleNameMapper\"\u001b[22m config option.\n\nYou'll find more details and examples of these config options in the docs:\n\u001b[36mhttps://jestjs.io/docs/configuration\u001b[39m\nFor information about custom transformations, see:\n\u001b[36mhttps://jestjs.io/docs/code-transformation\u001b[39m\n\n\u001b[1m\u001b[31mDetails:\u001b[39m\u001b[22m\n\nC:\\Top-That-Refactor\\public\\scripts\\main.ts:17\nif (import.meta.env.MODE !== 'production' || globalThis.process?.env?.NODE_ENV !== 'production') {\n           ^^^^\n\nSyntaxError: Cannot use 'import.meta' outside a module\n    at new Script (node:vm:117:7)\n    at Runtime.createScriptFromCode (C:\\Top-That-Refactor\\node_modules\\jest-runtime\\build\\index.js:1505:14)\n    at Runtime._execModule (C:\\Top-That-Refactor\\node_modules\\jest-runtime\\build\\index.js:1399:25)\n    at Runtime._loadModule (C:\\Top-That-Refactor\\node_modules\\jest-runtime\\build\\index.js:1022:12)\n    at Runtime.requireModule (C:\\Top-That-Refactor\\node_modules\\jest-runtime\\build\\index.js:882:12)\n    at Runtime.requireModuleOrMock (C:\\Top-That-Refactor\\node_modules\\jest-runtime\\build\\index.js:1048:21)\n    at require (C:\\Top-That-Refactor\\tests\\main.joinlink.test.ts:129:7)\n    at Runtime.isolateModulesAsync (C:\\Top-That-Refactor\\node_modules\\jest-runtime\\build\\index.js:1100:13)\n    at Object.isolateModulesAsync (C:\\Top-That-Refactor\\node_modules\\jest-runtime\\build\\index.js:1996:19)\n    at Object.isolateModulesAsync (C:\\Top-That-Refactor\\tests\\main.joinlink.test.ts:128:16)\n    at Promise.then.completed (C:\\Top-That-Refactor\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Top-That-Refactor\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Top-That-Refactor\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at _runTest (C:\\Top-That-Refactor\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Top-That-Refactor\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Top-That-Refactor\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Top-That-Refactor\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Top-That-Refactor\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Top-That-Refactor\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Top-That-Refactor\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Top-That-Refactor\\node_modules\\jest-runner\\build\\runTest.js:444:34)"],"fullName":"Client Main Script (main.ts) - Join Link Only should not join if already in-session","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should not join if already in-session"},{"ancestorTitles":["Client Main Script (main.ts) - Join Link Only"],"duration":4,"failureDetails":[{}],"failureMessages":["\u001b[1m\u001b[31mJest encountered an unexpected token\u001b[39m\u001b[22m\n\nJest failed to parse a file. This happens e.g. when your code or its dependencies use non-standard JavaScript syntax, or when Jest is not configured to support such syntax.\n\nOut of the box Jest supports Babel, which will be used to transform your files into valid JS based on your Babel configuration.\n\nBy default \"node_modules\" folder is ignored by transformers.\n\nHere's what you can do:\n • If you are trying to use ECMAScript Modules, see \u001b[4mhttps://jestjs.io/docs/ecmascript-modules\u001b[24m for how to enable it.\n • If you are trying to use TypeScript, see \u001b[4mhttps://jestjs.io/docs/getting-started#using-typescript\u001b[24m\n • To have some of your \"node_modules\" files transformed, you can specify a custom \u001b[1m\"transformIgnorePatterns\"\u001b[22m in your config.\n • If you need a custom transformation specify a \u001b[1m\"transform\"\u001b[22m option in your config.\n • If you simply want to mock your non-JS modules (e.g. binary assets) you can stub them out with the \u001b[1m\"moduleNameMapper\"\u001b[22m config option.\n\nYou'll find more details and examples of these config options in the docs:\n\u001b[36mhttps://jestjs.io/docs/configuration\u001b[39m\nFor information about custom transformations, see:\n\u001b[36mhttps://jestjs.io/docs/code-transformation\u001b[39m\n\n\u001b[1m\u001b[31mDetails:\u001b[39m\u001b[22m\n\nC:\\Top-That-Refactor\\public\\scripts\\main.ts:17\nif (import.meta.env.MODE !== 'production' || globalThis.process?.env?.NODE_ENV !== 'production') {\n           ^^^^\n\nSyntaxError: Cannot use 'import.meta' outside a module\n    at new Script (node:vm:117:7)\n    at Runtime.createScriptFromCode (C:\\Top-That-Refactor\\node_modules\\jest-runtime\\build\\index.js:1505:14)\n    at Runtime._execModule (C:\\Top-That-Refactor\\node_modules\\jest-runtime\\build\\index.js:1399:25)\n    at Runtime._loadModule (C:\\Top-That-Refactor\\node_modules\\jest-runtime\\build\\index.js:1022:12)\n    at Runtime.requireModule (C:\\Top-That-Refactor\\node_modules\\jest-runtime\\build\\index.js:882:12)\n    at Runtime.requireModuleOrMock (C:\\Top-That-Refactor\\node_modules\\jest-runtime\\build\\index.js:1048:21)\n    at require (C:\\Top-That-Refactor\\tests\\main.joinlink.test.ts:146:26)\n    at Object.<anonymous> (C:\\Top-That-Refactor\\tests\\main.joinlink.test.ts:146:26)"],"fullName":"Client Main Script (main.ts) - Join Link Only should handle room param with whitespace and special characters","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should handle room param with whitespace and special characters"},{"ancestorTitles":["Client Main Script (main.ts) - Join Link Only"],"duration":2,"failureDetails":[{}],"failureMessages":["\u001b[1m\u001b[31mJest encountered an unexpected token\u001b[39m\u001b[22m\n\nJest failed to parse a file. This happens e.g. when your code or its dependencies use non-standard JavaScript syntax, or when Jest is not configured to support such syntax.\n\nOut of the box Jest supports Babel, which will be used to transform your files into valid JS based on your Babel configuration.\n\nBy default \"node_modules\" folder is ignored by transformers.\n\nHere's what you can do:\n • If you are trying to use ECMAScript Modules, see \u001b[4mhttps://jestjs.io/docs/ecmascript-modules\u001b[24m for how to enable it.\n • If you are trying to use TypeScript, see \u001b[4mhttps://jestjs.io/docs/getting-started#using-typescript\u001b[24m\n • To have some of your \"node_modules\" files transformed, you can specify a custom \u001b[1m\"transformIgnorePatterns\"\u001b[22m in your config.\n • If you need a custom transformation specify a \u001b[1m\"transform\"\u001b[22m option in your config.\n • If you simply want to mock your non-JS modules (e.g. binary assets) you can stub them out with the \u001b[1m\"moduleNameMapper\"\u001b[22m config option.\n\nYou'll find more details and examples of these config options in the docs:\n\u001b[36mhttps://jestjs.io/docs/configuration\u001b[39m\nFor information about custom transformations, see:\n\u001b[36mhttps://jestjs.io/docs/code-transformation\u001b[39m\n\n\u001b[1m\u001b[31mDetails:\u001b[39m\u001b[22m\n\nC:\\Top-That-Refactor\\public\\scripts\\main.ts:17\nif (import.meta.env.MODE !== 'production' || globalThis.process?.env?.NODE_ENV !== 'production') {\n           ^^^^\n\nSyntaxError: Cannot use 'import.meta' outside a module\n    at new Script (node:vm:117:7)\n    at Runtime.createScriptFromCode (C:\\Top-That-Refactor\\node_modules\\jest-runtime\\build\\index.js:1505:14)\n    at Runtime._execModule (C:\\Top-That-Refactor\\node_modules\\jest-runtime\\build\\index.js:1399:25)\n    at Runtime._loadModule (C:\\Top-That-Refactor\\node_modules\\jest-runtime\\build\\index.js:1022:12)\n    at Runtime.requireModule (C:\\Top-That-Refactor\\node_modules\\jest-runtime\\build\\index.js:882:12)\n    at Runtime.requireModuleOrMock (C:\\Top-That-Refactor\\node_modules\\jest-runtime\\build\\index.js:1048:21)\n    at require (C:\\Top-That-Refactor\\tests\\main.joinlink.test.ts:171:26)\n    at Object.<anonymous> (C:\\Top-That-Refactor\\tests\\main.joinlink.test.ts:171:26)"],"fullName":"Client Main Script (main.ts) - Join Link Only should use first room param if multiple present","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should use first room param if multiple present"},{"ancestorTitles":["Client Main Script (main.ts) - Join Link Only"],"duration":2,"failureDetails":[{"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mresolves\u001b[2m.\u001b[22mnot\u001b[2m.\u001b[22mtoThrow\u001b[2m()\u001b[22m\n\nReceived promise rejected instead of resolved\nRejected to value: \u001b[31m[SyntaxError: Cannot use 'import.meta' outside a module]\u001b[39m"}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mresolves\u001b[2m.\u001b[22mnot\u001b[2m.\u001b[22mtoThrow\u001b[2m()\u001b[22m\n\nReceived promise rejected instead of resolved\nRejected to value: \u001b[31m[SyntaxError: Cannot use 'import.meta' outside a module]\u001b[39m\n    at expect (C:\\Top-That-Refactor\\node_modules\\expect\\build\\index.js:113:15)\n    at Object.expect (C:\\Top-That-Refactor\\tests\\main.joinlink.test.ts:204:11)\n    at Promise.then.completed (C:\\Top-That-Refactor\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Top-That-Refactor\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Top-That-Refactor\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at _runTest (C:\\Top-That-Refactor\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Top-That-Refactor\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Top-That-Refactor\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Top-That-Refactor\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Top-That-Refactor\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Top-That-Refactor\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Top-That-Refactor\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Top-That-Refactor\\node_modules\\jest-runner\\build\\runTest.js:444:34)"],"fullName":"Client Main Script (main.ts) - Join Link Only should not throw if DOM is missing elements","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should not throw if DOM is missing elements"},{"ancestorTitles":["Client Main Script (main.ts) - Join Link Only"],"duration":2,"failureDetails":[{"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mresolves\u001b[2m.\u001b[22mnot\u001b[2m.\u001b[22mtoThrow\u001b[2m()\u001b[22m\n\nReceived promise rejected instead of resolved\nRejected to value: \u001b[31m[SyntaxError: Cannot use 'import.meta' outside a module]\u001b[39m"}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mresolves\u001b[2m.\u001b[22mnot\u001b[2m.\u001b[22mtoThrow\u001b[2m()\u001b[22m\n\nReceived promise rejected instead of resolved\nRejected to value: \u001b[31m[SyntaxError: Cannot use 'import.meta' outside a module]\u001b[39m\n    at expect (C:\\Top-That-Refactor\\node_modules\\expect\\build\\index.js:113:15)\n    at Object.expect (C:\\Top-That-Refactor\\tests\\main.joinlink.test.ts:222:11)\n    at Promise.then.completed (C:\\Top-That-Refactor\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Top-That-Refactor\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Top-That-Refactor\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at _runTest (C:\\Top-That-Refactor\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Top-That-Refactor\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Top-That-Refactor\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Top-That-Refactor\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Top-That-Refactor\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Top-That-Refactor\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Top-That-Refactor\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Top-That-Refactor\\node_modules\\jest-runner\\build\\runTest.js:444:34)"],"fullName":"Client Main Script (main.ts) - Join Link Only should not throw if socketReady rejects","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should not throw if socketReady rejects"},{"ancestorTitles":["Client Main Script (main.ts) - Join Link Only"],"duration":2,"failureDetails":[{"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mresolves\u001b[2m.\u001b[22mnot\u001b[2m.\u001b[22mtoThrow\u001b[2m()\u001b[22m\n\nReceived promise rejected instead of resolved\nRejected to value: \u001b[31m[SyntaxError: Cannot use 'import.meta' outside a module]\u001b[39m"}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mresolves\u001b[2m.\u001b[22mnot\u001b[2m.\u001b[22mtoThrow\u001b[2m()\u001b[22m\n\nReceived promise rejected instead of resolved\nRejected to value: \u001b[31m[SyntaxError: Cannot use 'import.meta' outside a module]\u001b[39m\n    at expect (C:\\Top-That-Refactor\\node_modules\\expect\\build\\index.js:113:15)\n    at Object.expect (C:\\Top-That-Refactor\\tests\\main.joinlink.test.ts:240:11)\n    at Promise.then.completed (C:\\Top-That-Refactor\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Top-That-Refactor\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Top-That-Refactor\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at _runTest (C:\\Top-That-Refactor\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Top-That-Refactor\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Top-That-Refactor\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Top-That-Refactor\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Top-That-Refactor\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Top-That-Refactor\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Top-That-Refactor\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Top-That-Refactor\\node_modules\\jest-runner\\build\\runTest.js:444:34)"],"fullName":"Client Main Script (main.ts) - Join Link Only should handle missing DOM gracefully","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should handle missing DOM gracefully"}],"endTime":1768775254996,"message":"\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mClient Main Script (main.ts) - Join Link Only › should handle join link in URL and emit JOIN_GAME\u001b[39m\u001b[22m\n\n    \u001b[1m\u001b[31mJest encountered an unexpected token\u001b[39m\u001b[22m\n\n    Jest failed to parse a file. This happens e.g. when your code or its dependencies use non-standard JavaScript syntax, or when Jest is not configured to support such syntax.\n\n    Out of the box Jest supports Babel, which will be used to transform your files into valid JS based on your Babel configuration.\n\n    By default \"node_modules\" folder is ignored by transformers.\n\n    Here's what you can do:\n     • If you are trying to use ECMAScript Modules, see \u001b[4mhttps://jestjs.io/docs/ecmascript-modules\u001b[24m for how to enable it.\n     • If you are trying to use TypeScript, see \u001b[4mhttps://jestjs.io/docs/getting-started#using-typescript\u001b[24m\n     • To have some of your \"node_modules\" files transformed, you can specify a custom \u001b[1m\"transformIgnorePatterns\"\u001b[22m in your config.\n     • If you need a custom transformation specify a \u001b[1m\"transform\"\u001b[22m option in your config.\n     • If you simply want to mock your non-JS modules (e.g. binary assets) you can stub them out with the \u001b[1m\"moduleNameMapper\"\u001b[22m config option.\n\n    You'll find more details and examples of these config options in the docs:\n    \u001b[36mhttps://jestjs.io/docs/configuration\u001b[39m\n    For information about custom transformations, see:\n    \u001b[36mhttps://jestjs.io/docs/code-transformation\u001b[39m\n\n    \u001b[1m\u001b[31mDetails:\u001b[39m\u001b[22m\n\n    C:\\Top-That-Refactor\\public\\scripts\\main.ts:17\n    if (import.meta.env.MODE !== 'production' || globalThis.process?.env?.NODE_ENV !== 'production') {\n               ^^^^\n\n    SyntaxError: Cannot use 'import.meta' outside a module\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 59 |\u001b[39m     window\u001b[33m.\u001b[39mhistory\u001b[33m.\u001b[39mreplaceState({}\u001b[33m,\u001b[39m document\u001b[33m.\u001b[39mtitle\u001b[33m,\u001b[39m \u001b[32m'/?room=ROOM123'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 60 |\u001b[39m     \u001b[90m// Import initMain from main.ts\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 61 |\u001b[39m     \u001b[36mconst\u001b[39m { initMain } \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m \u001b[36mimport\u001b[39m(\u001b[32m'../public/scripts/main.ts'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m                          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 62 |\u001b[39m     \u001b[90m// Create mocks\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 63 |\u001b[39m     \u001b[36mconst\u001b[39m setCurrentRoom \u001b[33m=\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 64 |\u001b[39m     \u001b[36mconst\u001b[39m emit \u001b[33m=\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Runtime.createScriptFromCode (\u001b[22m\u001b[2mnode_modules/jest-runtime/build/index.js\u001b[2m:1505:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat require (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/main.joinlink.test.ts\u001b[39m\u001b[0m\u001b[2m:61:26)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/main.joinlink.test.ts\u001b[39m\u001b[0m\u001b[2m:61:26)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mClient Main Script (main.ts) - Join Link Only › should do nothing if no room param in URL\u001b[39m\u001b[22m\n\n    \u001b[1m\u001b[31mJest encountered an unexpected token\u001b[39m\u001b[22m\n\n    Jest failed to parse a file. This happens e.g. when your code or its dependencies use non-standard JavaScript syntax, or when Jest is not configured to support such syntax.\n\n    Out of the box Jest supports Babel, which will be used to transform your files into valid JS based on your Babel configuration.\n\n    By default \"node_modules\" folder is ignored by transformers.\n\n    Here's what you can do:\n     • If you are trying to use ECMAScript Modules, see \u001b[4mhttps://jestjs.io/docs/ecmascript-modules\u001b[24m for how to enable it.\n     • If you are trying to use TypeScript, see \u001b[4mhttps://jestjs.io/docs/getting-started#using-typescript\u001b[24m\n     • To have some of your \"node_modules\" files transformed, you can specify a custom \u001b[1m\"transformIgnorePatterns\"\u001b[22m in your config.\n     • If you need a custom transformation specify a \u001b[1m\"transform\"\u001b[22m option in your config.\n     • If you simply want to mock your non-JS modules (e.g. binary assets) you can stub them out with the \u001b[1m\"moduleNameMapper\"\u001b[22m config option.\n\n    You'll find more details and examples of these config options in the docs:\n    \u001b[36mhttps://jestjs.io/docs/configuration\u001b[39m\n    For information about custom transformations, see:\n    \u001b[36mhttps://jestjs.io/docs/code-transformation\u001b[39m\n\n    \u001b[1m\u001b[31mDetails:\u001b[39m\u001b[22m\n\n    C:\\Top-That-Refactor\\public\\scripts\\main.ts:17\n    if (import.meta.env.MODE !== 'production' || globalThis.process?.env?.NODE_ENV !== 'production') {\n               ^^^^\n\n    SyntaxError: Cannot use 'import.meta' outside a module\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 92 |\u001b[39m     window\u001b[33m.\u001b[39mhistory\u001b[33m.\u001b[39mreplaceState({}\u001b[33m,\u001b[39m document\u001b[33m.\u001b[39mtitle\u001b[33m,\u001b[39m \u001b[32m'/'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 93 |\u001b[39m     \u001b[36mawait\u001b[39m jest\u001b[33m.\u001b[39misolateModulesAsync(\u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 94 |\u001b[39m       require(\u001b[32m'../public/scripts/main.js'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m       \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 95 |\u001b[39m       document\u001b[33m.\u001b[39mdispatchEvent(\u001b[36mnew\u001b[39m \u001b[33mEvent\u001b[39m(\u001b[32m'DOMContentLoaded'\u001b[39m))\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 96 |\u001b[39m       \u001b[36mawait\u001b[39m \u001b[33mPromise\u001b[39m\u001b[33m.\u001b[39mresolve()\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 97 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Runtime.createScriptFromCode (\u001b[22m\u001b[2mnode_modules/jest-runtime/build/index.js\u001b[2m:1505:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat require (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/main.joinlink.test.ts\u001b[39m\u001b[0m\u001b[2m:94:7)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.isolateModulesAsync (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/main.joinlink.test.ts\u001b[39m\u001b[0m\u001b[2m:93:16)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mClient Main Script (main.ts) - Join Link Only › should do nothing if room param is empty\u001b[39m\u001b[22m\n\n    \u001b[1m\u001b[31mJest encountered an unexpected token\u001b[39m\u001b[22m\n\n    Jest failed to parse a file. This happens e.g. when your code or its dependencies use non-standard JavaScript syntax, or when Jest is not configured to support such syntax.\n\n    Out of the box Jest supports Babel, which will be used to transform your files into valid JS based on your Babel configuration.\n\n    By default \"node_modules\" folder is ignored by transformers.\n\n    Here's what you can do:\n     • If you are trying to use ECMAScript Modules, see \u001b[4mhttps://jestjs.io/docs/ecmascript-modules\u001b[24m for how to enable it.\n     • If you are trying to use TypeScript, see \u001b[4mhttps://jestjs.io/docs/getting-started#using-typescript\u001b[24m\n     • To have some of your \"node_modules\" files transformed, you can specify a custom \u001b[1m\"transformIgnorePatterns\"\u001b[22m in your config.\n     • If you need a custom transformation specify a \u001b[1m\"transform\"\u001b[22m option in your config.\n     • If you simply want to mock your non-JS modules (e.g. binary assets) you can stub them out with the \u001b[1m\"moduleNameMapper\"\u001b[22m config option.\n\n    You'll find more details and examples of these config options in the docs:\n    \u001b[36mhttps://jestjs.io/docs/configuration\u001b[39m\n    For information about custom transformations, see:\n    \u001b[36mhttps://jestjs.io/docs/code-transformation\u001b[39m\n\n    \u001b[1m\u001b[31mDetails:\u001b[39m\u001b[22m\n\n    C:\\Top-That-Refactor\\public\\scripts\\main.ts:17\n    if (import.meta.env.MODE !== 'production' || globalThis.process?.env?.NODE_ENV !== 'production') {\n               ^^^^\n\n    SyntaxError: Cannot use 'import.meta' outside a module\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 109 |\u001b[39m     window\u001b[33m.\u001b[39mhistory\u001b[33m.\u001b[39mreplaceState({}\u001b[33m,\u001b[39m document\u001b[33m.\u001b[39mtitle\u001b[33m,\u001b[39m \u001b[32m'/?room='\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 110 |\u001b[39m     \u001b[36mawait\u001b[39m jest\u001b[33m.\u001b[39misolateModulesAsync(\u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 111 |\u001b[39m       require(\u001b[32m'../public/scripts/main.js'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m       \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 112 |\u001b[39m       document\u001b[33m.\u001b[39mdispatchEvent(\u001b[36mnew\u001b[39m \u001b[33mEvent\u001b[39m(\u001b[32m'DOMContentLoaded'\u001b[39m))\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 113 |\u001b[39m       \u001b[36mawait\u001b[39m \u001b[33mPromise\u001b[39m\u001b[33m.\u001b[39mresolve()\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 114 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Runtime.createScriptFromCode (\u001b[22m\u001b[2mnode_modules/jest-runtime/build/index.js\u001b[2m:1505:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat require (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/main.joinlink.test.ts\u001b[39m\u001b[0m\u001b[2m:111:7)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.isolateModulesAsync (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/main.joinlink.test.ts\u001b[39m\u001b[0m\u001b[2m:110:16)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mClient Main Script (main.ts) - Join Link Only › should not join if already in-session\u001b[39m\u001b[22m\n\n    \u001b[1m\u001b[31mJest encountered an unexpected token\u001b[39m\u001b[22m\n\n    Jest failed to parse a file. This happens e.g. when your code or its dependencies use non-standard JavaScript syntax, or when Jest is not configured to support such syntax.\n\n    Out of the box Jest supports Babel, which will be used to transform your files into valid JS based on your Babel configuration.\n\n    By default \"node_modules\" folder is ignored by transformers.\n\n    Here's what you can do:\n     • If you are trying to use ECMAScript Modules, see \u001b[4mhttps://jestjs.io/docs/ecmascript-modules\u001b[24m for how to enable it.\n     • If you are trying to use TypeScript, see \u001b[4mhttps://jestjs.io/docs/getting-started#using-typescript\u001b[24m\n     • To have some of your \"node_modules\" files transformed, you can specify a custom \u001b[1m\"transformIgnorePatterns\"\u001b[22m in your config.\n     • If you need a custom transformation specify a \u001b[1m\"transform\"\u001b[22m option in your config.\n     • If you simply want to mock your non-JS modules (e.g. binary assets) you can stub them out with the \u001b[1m\"moduleNameMapper\"\u001b[22m config option.\n\n    You'll find more details and examples of these config options in the docs:\n    \u001b[36mhttps://jestjs.io/docs/configuration\u001b[39m\n    For information about custom transformations, see:\n    \u001b[36mhttps://jestjs.io/docs/code-transformation\u001b[39m\n\n    \u001b[1m\u001b[31mDetails:\u001b[39m\u001b[22m\n\n    C:\\Top-That-Refactor\\public\\scripts\\main.ts:17\n    if (import.meta.env.MODE !== 'production' || globalThis.process?.env?.NODE_ENV !== 'production') {\n               ^^^^\n\n    SyntaxError: Cannot use 'import.meta' outside a module\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 127 |\u001b[39m     window\u001b[33m.\u001b[39mhistory\u001b[33m.\u001b[39mreplaceState({}\u001b[33m,\u001b[39m document\u001b[33m.\u001b[39mtitle\u001b[33m,\u001b[39m \u001b[32m'/?room=ROOMX'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 128 |\u001b[39m     \u001b[36mawait\u001b[39m jest\u001b[33m.\u001b[39misolateModulesAsync(\u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 129 |\u001b[39m       require(\u001b[32m'../public/scripts/main.js'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m       \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 130 |\u001b[39m       document\u001b[33m.\u001b[39mdispatchEvent(\u001b[36mnew\u001b[39m \u001b[33mEvent\u001b[39m(\u001b[32m'DOMContentLoaded'\u001b[39m))\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 131 |\u001b[39m       \u001b[36mawait\u001b[39m \u001b[33mPromise\u001b[39m\u001b[33m.\u001b[39mresolve()\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 132 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Runtime.createScriptFromCode (\u001b[22m\u001b[2mnode_modules/jest-runtime/build/index.js\u001b[2m:1505:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat require (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/main.joinlink.test.ts\u001b[39m\u001b[0m\u001b[2m:129:7)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.isolateModulesAsync (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/main.joinlink.test.ts\u001b[39m\u001b[0m\u001b[2m:128:16)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mClient Main Script (main.ts) - Join Link Only › should handle room param with whitespace and special characters\u001b[39m\u001b[22m\n\n    \u001b[1m\u001b[31mJest encountered an unexpected token\u001b[39m\u001b[22m\n\n    Jest failed to parse a file. This happens e.g. when your code or its dependencies use non-standard JavaScript syntax, or when Jest is not configured to support such syntax.\n\n    Out of the box Jest supports Babel, which will be used to transform your files into valid JS based on your Babel configuration.\n\n    By default \"node_modules\" folder is ignored by transformers.\n\n    Here's what you can do:\n     • If you are trying to use ECMAScript Modules, see \u001b[4mhttps://jestjs.io/docs/ecmascript-modules\u001b[24m for how to enable it.\n     • If you are trying to use TypeScript, see \u001b[4mhttps://jestjs.io/docs/getting-started#using-typescript\u001b[24m\n     • To have some of your \"node_modules\" files transformed, you can specify a custom \u001b[1m\"transformIgnorePatterns\"\u001b[22m in your config.\n     • If you need a custom transformation specify a \u001b[1m\"transform\"\u001b[22m option in your config.\n     • If you simply want to mock your non-JS modules (e.g. binary assets) you can stub them out with the \u001b[1m\"moduleNameMapper\"\u001b[22m config option.\n\n    You'll find more details and examples of these config options in the docs:\n    \u001b[36mhttps://jestjs.io/docs/configuration\u001b[39m\n    For information about custom transformations, see:\n    \u001b[36mhttps://jestjs.io/docs/code-transformation\u001b[39m\n\n    \u001b[1m\u001b[31mDetails:\u001b[39m\u001b[22m\n\n    C:\\Top-That-Refactor\\public\\scripts\\main.ts:17\n    if (import.meta.env.MODE !== 'production' || globalThis.process?.env?.NODE_ENV !== 'production') {\n               ^^^^\n\n    SyntaxError: Cannot use 'import.meta' outside a module\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 144 |\u001b[39m       \u001b[32m'/?room=%20ROOM%20%40%23%24'\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 145 |\u001b[39m     )\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 146 |\u001b[39m     \u001b[36mconst\u001b[39m { initMain } \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m \u001b[36mimport\u001b[39m(\u001b[32m'../public/scripts/main.ts'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 147 |\u001b[39m     \u001b[36mconst\u001b[39m setCurrentRoom \u001b[33m=\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 148 |\u001b[39m     \u001b[36mconst\u001b[39m emit \u001b[33m=\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 149 |\u001b[39m     \u001b[36mconst\u001b[39m socket \u001b[33m=\u001b[39m { emit\u001b[33m,\u001b[39m on\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m id\u001b[33m:\u001b[39m \u001b[32m'mock-socket-id'\u001b[39m } \u001b[36mas\u001b[39m any\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Runtime.createScriptFromCode (\u001b[22m\u001b[2mnode_modules/jest-runtime/build/index.js\u001b[2m:1505:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat require (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/main.joinlink.test.ts\u001b[39m\u001b[0m\u001b[2m:146:26)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/main.joinlink.test.ts\u001b[39m\u001b[0m\u001b[2m:146:26)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mClient Main Script (main.ts) - Join Link Only › should use first room param if multiple present\u001b[39m\u001b[22m\n\n    \u001b[1m\u001b[31mJest encountered an unexpected token\u001b[39m\u001b[22m\n\n    Jest failed to parse a file. This happens e.g. when your code or its dependencies use non-standard JavaScript syntax, or when Jest is not configured to support such syntax.\n\n    Out of the box Jest supports Babel, which will be used to transform your files into valid JS based on your Babel configuration.\n\n    By default \"node_modules\" folder is ignored by transformers.\n\n    Here's what you can do:\n     • If you are trying to use ECMAScript Modules, see \u001b[4mhttps://jestjs.io/docs/ecmascript-modules\u001b[24m for how to enable it.\n     • If you are trying to use TypeScript, see \u001b[4mhttps://jestjs.io/docs/getting-started#using-typescript\u001b[24m\n     • To have some of your \"node_modules\" files transformed, you can specify a custom \u001b[1m\"transformIgnorePatterns\"\u001b[22m in your config.\n     • If you need a custom transformation specify a \u001b[1m\"transform\"\u001b[22m option in your config.\n     • If you simply want to mock your non-JS modules (e.g. binary assets) you can stub them out with the \u001b[1m\"moduleNameMapper\"\u001b[22m config option.\n\n    You'll find more details and examples of these config options in the docs:\n    \u001b[36mhttps://jestjs.io/docs/configuration\u001b[39m\n    For information about custom transformations, see:\n    \u001b[36mhttps://jestjs.io/docs/code-transformation\u001b[39m\n\n    \u001b[1m\u001b[31mDetails:\u001b[39m\u001b[22m\n\n    C:\\Top-That-Refactor\\public\\scripts\\main.ts:17\n    if (import.meta.env.MODE !== 'production' || globalThis.process?.env?.NODE_ENV !== 'production') {\n               ^^^^\n\n    SyntaxError: Cannot use 'import.meta' outside a module\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 169 |\u001b[39m     setupMainDOM()\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 170 |\u001b[39m     window\u001b[33m.\u001b[39mhistory\u001b[33m.\u001b[39mreplaceState({}\u001b[33m,\u001b[39m document\u001b[33m.\u001b[39mtitle\u001b[33m,\u001b[39m \u001b[32m'/?room=FIRST&room=SECOND'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 171 |\u001b[39m     \u001b[36mconst\u001b[39m { initMain } \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m \u001b[36mimport\u001b[39m(\u001b[32m'../public/scripts/main.ts'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 172 |\u001b[39m     \u001b[36mconst\u001b[39m setCurrentRoom \u001b[33m=\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 173 |\u001b[39m     \u001b[36mconst\u001b[39m emit \u001b[33m=\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 174 |\u001b[39m     \u001b[36mconst\u001b[39m socket \u001b[33m=\u001b[39m { emit\u001b[33m,\u001b[39m on\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m id\u001b[33m:\u001b[39m \u001b[32m'mock-socket-id'\u001b[39m } \u001b[36mas\u001b[39m any\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Runtime.createScriptFromCode (\u001b[22m\u001b[2mnode_modules/jest-runtime/build/index.js\u001b[2m:1505:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat require (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/main.joinlink.test.ts\u001b[39m\u001b[0m\u001b[2m:171:26)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/main.joinlink.test.ts\u001b[39m\u001b[0m\u001b[2m:171:26)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mClient Main Script (main.ts) - Join Link Only › should not throw if DOM is missing elements\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mresolves\u001b[2m.\u001b[22mnot\u001b[2m.\u001b[22mtoThrow\u001b[2m()\u001b[22m\n\n    Received promise rejected instead of resolved\n    Rejected to value: \u001b[31m[SyntaxError: Cannot use 'import.meta' outside a module]\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 202 |\u001b[39m     document\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39minnerHTML \u001b[33m=\u001b[39m \u001b[32m''\u001b[39m\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 203 |\u001b[39m     window\u001b[33m.\u001b[39mhistory\u001b[33m.\u001b[39mreplaceState({}\u001b[33m,\u001b[39m document\u001b[33m.\u001b[39mtitle\u001b[33m,\u001b[39m \u001b[32m'/?room=ROOMSAFE'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 204 |\u001b[39m     \u001b[36mawait\u001b[39m expect(\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m           \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 205 |\u001b[39m       jest\u001b[33m.\u001b[39misolateModulesAsync(\u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m     \u001b[90m 206 |\u001b[39m         require(\u001b[32m'../public/scripts/main.js'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 207 |\u001b[39m         document\u001b[33m.\u001b[39mdispatchEvent(\u001b[36mnew\u001b[39m \u001b[33mEvent\u001b[39m(\u001b[32m'DOMContentLoaded'\u001b[39m))\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat expect (\u001b[22m\u001b[2mnode_modules/expect/build/index.js\u001b[2m:113:15)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.expect (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/main.joinlink.test.ts\u001b[39m\u001b[0m\u001b[2m:204:11)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mClient Main Script (main.ts) - Join Link Only › should not throw if socketReady rejects\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mresolves\u001b[2m.\u001b[22mnot\u001b[2m.\u001b[22mtoThrow\u001b[2m()\u001b[22m\n\n    Received promise rejected instead of resolved\n    Rejected to value: \u001b[31m[SyntaxError: Cannot use 'import.meta' outside a module]\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 220 |\u001b[39m     setupMainDOM()\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 221 |\u001b[39m     window\u001b[33m.\u001b[39mhistory\u001b[33m.\u001b[39mreplaceState({}\u001b[33m,\u001b[39m document\u001b[33m.\u001b[39mtitle\u001b[33m,\u001b[39m \u001b[32m'/?room=ROOMFAIL'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 222 |\u001b[39m     \u001b[36mawait\u001b[39m expect(\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m           \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 223 |\u001b[39m       jest\u001b[33m.\u001b[39misolateModulesAsync(\u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m     \u001b[90m 224 |\u001b[39m         require(\u001b[32m'../public/scripts/main.js'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 225 |\u001b[39m         document\u001b[33m.\u001b[39mdispatchEvent(\u001b[36mnew\u001b[39m \u001b[33mEvent\u001b[39m(\u001b[32m'DOMContentLoaded'\u001b[39m))\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat expect (\u001b[22m\u001b[2mnode_modules/expect/build/index.js\u001b[2m:113:15)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.expect (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/main.joinlink.test.ts\u001b[39m\u001b[0m\u001b[2m:222:11)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mClient Main Script (main.ts) - Join Link Only › should handle missing DOM gracefully\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mresolves\u001b[2m.\u001b[22mnot\u001b[2m.\u001b[22mtoThrow\u001b[2m()\u001b[22m\n\n    Received promise rejected instead of resolved\n    Rejected to value: \u001b[31m[SyntaxError: Cannot use 'import.meta' outside a module]\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 238 |\u001b[39m     )\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 239 |\u001b[39m     window\u001b[33m.\u001b[39mhistory\u001b[33m.\u001b[39mreplaceState({}\u001b[33m,\u001b[39m document\u001b[33m.\u001b[39mtitle\u001b[33m,\u001b[39m \u001b[32m'/?room=ROOM123'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 240 |\u001b[39m     \u001b[36mawait\u001b[39m expect(\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m           \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 241 |\u001b[39m       jest\u001b[33m.\u001b[39misolateModulesAsync(\u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m     \u001b[90m 242 |\u001b[39m         require(\u001b[32m'../public/scripts/main.js'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 243 |\u001b[39m         document\u001b[33m.\u001b[39mdispatchEvent(\u001b[36mnew\u001b[39m \u001b[33mEvent\u001b[39m(\u001b[32m'DOMContentLoaded'\u001b[39m))\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat expect (\u001b[22m\u001b[2mnode_modules/expect/build/index.js\u001b[2m:113:15)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.expect (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/main.joinlink.test.ts\u001b[39m\u001b[0m\u001b[2m:240:11)\u001b[22m\u001b[2m\u001b[22m\n","name":"C:\\Top-That-Refactor\\tests\\main.joinlink.test.ts","startTime":1768775254507,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["Client Main Script (main.ts)"],"duration":4,"failureDetails":[{}],"failureMessages":["\u001b[1m\u001b[31mJest encountered an unexpected token\u001b[39m\u001b[22m\n\nJest failed to parse a file. This happens e.g. when your code or its dependencies use non-standard JavaScript syntax, or when Jest is not configured to support such syntax.\n\nOut of the box Jest supports Babel, which will be used to transform your files into valid JS based on your Babel configuration.\n\nBy default \"node_modules\" folder is ignored by transformers.\n\nHere's what you can do:\n • If you are trying to use ECMAScript Modules, see \u001b[4mhttps://jestjs.io/docs/ecmascript-modules\u001b[24m for how to enable it.\n • If you are trying to use TypeScript, see \u001b[4mhttps://jestjs.io/docs/getting-started#using-typescript\u001b[24m\n • To have some of your \"node_modules\" files transformed, you can specify a custom \u001b[1m\"transformIgnorePatterns\"\u001b[22m in your config.\n • If you need a custom transformation specify a \u001b[1m\"transform\"\u001b[22m option in your config.\n • If you simply want to mock your non-JS modules (e.g. binary assets) you can stub them out with the \u001b[1m\"moduleNameMapper\"\u001b[22m config option.\n\nYou'll find more details and examples of these config options in the docs:\n\u001b[36mhttps://jestjs.io/docs/configuration\u001b[39m\nFor information about custom transformations, see:\n\u001b[36mhttps://jestjs.io/docs/code-transformation\u001b[39m\n\n\u001b[1m\u001b[31mDetails:\u001b[39m\u001b[22m\n\nC:\\Top-That-Refactor\\public\\scripts\\main.ts:17\nif (import.meta.env.MODE !== 'production' || globalThis.process?.env?.NODE_ENV !== 'production') {\n           ^^^^\n\nSyntaxError: Cannot use 'import.meta' outside a module\n    at new Script (node:vm:117:7)\n    at Runtime.createScriptFromCode (C:\\Top-That-Refactor\\node_modules\\jest-runtime\\build\\index.js:1505:14)\n    at Runtime._execModule (C:\\Top-That-Refactor\\node_modules\\jest-runtime\\build\\index.js:1399:25)\n    at Runtime._loadModule (C:\\Top-That-Refactor\\node_modules\\jest-runtime\\build\\index.js:1022:12)\n    at Runtime.requireModule (C:\\Top-That-Refactor\\node_modules\\jest-runtime\\build\\index.js:882:12)\n    at Runtime.requireModuleOrMock (C:\\Top-That-Refactor\\node_modules\\jest-runtime\\build\\index.js:1048:21)\n    at require (C:\\Top-That-Refactor\\public\\scripts\\main.test.ts:99:7)\n    at C:\\Top-That-Refactor\\public\\scripts\\main.test.ts:99:7"],"fullName":"Client Main Script (main.ts) should attempt to connect with Socket.IO when loaded","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should attempt to connect with Socket.IO when loaded"},{"ancestorTitles":["Client Main Script (main.ts)"],"duration":3,"failureDetails":[{}],"failureMessages":["\u001b[1m\u001b[31mJest encountered an unexpected token\u001b[39m\u001b[22m\n\nJest failed to parse a file. This happens e.g. when your code or its dependencies use non-standard JavaScript syntax, or when Jest is not configured to support such syntax.\n\nOut of the box Jest supports Babel, which will be used to transform your files into valid JS based on your Babel configuration.\n\nBy default \"node_modules\" folder is ignored by transformers.\n\nHere's what you can do:\n • If you are trying to use ECMAScript Modules, see \u001b[4mhttps://jestjs.io/docs/ecmascript-modules\u001b[24m for how to enable it.\n • If you are trying to use TypeScript, see \u001b[4mhttps://jestjs.io/docs/getting-started#using-typescript\u001b[24m\n • To have some of your \"node_modules\" files transformed, you can specify a custom \u001b[1m\"transformIgnorePatterns\"\u001b[22m in your config.\n • If you need a custom transformation specify a \u001b[1m\"transform\"\u001b[22m option in your config.\n • If you simply want to mock your non-JS modules (e.g. binary assets) you can stub them out with the \u001b[1m\"moduleNameMapper\"\u001b[22m config option.\n\nYou'll find more details and examples of these config options in the docs:\n\u001b[36mhttps://jestjs.io/docs/configuration\u001b[39m\nFor information about custom transformations, see:\n\u001b[36mhttps://jestjs.io/docs/code-transformation\u001b[39m\n\n\u001b[1m\u001b[31mDetails:\u001b[39m\u001b[22m\n\nC:\\Top-That-Refactor\\public\\scripts\\main.ts:17\nif (import.meta.env.MODE !== 'production' || globalThis.process?.env?.NODE_ENV !== 'production') {\n           ^^^^\n\nSyntaxError: Cannot use 'import.meta' outside a module\n    at new Script (node:vm:117:7)\n    at Runtime.createScriptFromCode (C:\\Top-That-Refactor\\node_modules\\jest-runtime\\build\\index.js:1505:14)\n    at Runtime._execModule (C:\\Top-That-Refactor\\node_modules\\jest-runtime\\build\\index.js:1399:25)\n    at Runtime._loadModule (C:\\Top-That-Refactor\\node_modules\\jest-runtime\\build\\index.js:1022:12)\n    at Runtime.requireModule (C:\\Top-That-Refactor\\node_modules\\jest-runtime\\build\\index.js:882:12)\n    at Runtime.requireModuleOrMock (C:\\Top-That-Refactor\\node_modules\\jest-runtime\\build\\index.js:1048:21)\n    at require (C:\\Top-That-Refactor\\public\\scripts\\main.test.ts:110:7)\n    at C:\\Top-That-Refactor\\public\\scripts\\main.test.ts:110:7"],"fullName":"Client Main Script (main.ts) should unhide lobby and set correct classes on DOMContentLoaded","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should unhide lobby and set correct classes on DOMContentLoaded"},{"ancestorTitles":["Client Main Script (main.ts)"],"duration":2,"failureDetails":[{}],"failureMessages":["\u001b[1m\u001b[31mJest encountered an unexpected token\u001b[39m\u001b[22m\n\nJest failed to parse a file. This happens e.g. when your code or its dependencies use non-standard JavaScript syntax, or when Jest is not configured to support such syntax.\n\nOut of the box Jest supports Babel, which will be used to transform your files into valid JS based on your Babel configuration.\n\nBy default \"node_modules\" folder is ignored by transformers.\n\nHere's what you can do:\n • If you are trying to use ECMAScript Modules, see \u001b[4mhttps://jestjs.io/docs/ecmascript-modules\u001b[24m for how to enable it.\n • If you are trying to use TypeScript, see \u001b[4mhttps://jestjs.io/docs/getting-started#using-typescript\u001b[24m\n • To have some of your \"node_modules\" files transformed, you can specify a custom \u001b[1m\"transformIgnorePatterns\"\u001b[22m in your config.\n • If you need a custom transformation specify a \u001b[1m\"transform\"\u001b[22m option in your config.\n • If you simply want to mock your non-JS modules (e.g. binary assets) you can stub them out with the \u001b[1m\"moduleNameMapper\"\u001b[22m config option.\n\nYou'll find more details and examples of these config options in the docs:\n\u001b[36mhttps://jestjs.io/docs/configuration\u001b[39m\nFor information about custom transformations, see:\n\u001b[36mhttps://jestjs.io/docs/code-transformation\u001b[39m\n\n\u001b[1m\u001b[31mDetails:\u001b[39m\u001b[22m\n\nC:\\Top-That-Refactor\\public\\scripts\\main.ts:17\nif (import.meta.env.MODE !== 'production' || globalThis.process?.env?.NODE_ENV !== 'production') {\n           ^^^^\n\nSyntaxError: Cannot use 'import.meta' outside a module\n    at new Script (node:vm:117:7)\n    at Runtime.createScriptFromCode (C:\\Top-That-Refactor\\node_modules\\jest-runtime\\build\\index.js:1505:14)\n    at Runtime._execModule (C:\\Top-That-Refactor\\node_modules\\jest-runtime\\build\\index.js:1399:25)\n    at Runtime._loadModule (C:\\Top-That-Refactor\\node_modules\\jest-runtime\\build\\index.js:1022:12)\n    at Runtime.requireModule (C:\\Top-That-Refactor\\node_modules\\jest-runtime\\build\\index.js:882:12)\n    at Runtime.requireModuleOrMock (C:\\Top-That-Refactor\\node_modules\\jest-runtime\\build\\index.js:1048:21)\n    at require (C:\\Top-That-Refactor\\public\\scripts\\main.test.ts:122:7)\n    at C:\\Top-That-Refactor\\public\\scripts\\main.test.ts:122:7"],"fullName":"Client Main Script (main.ts) should not throw if lobby container is missing","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should not throw if lobby container is missing"},{"ancestorTitles":["Client Main Script (main.ts)"],"duration":2,"failureDetails":[{}],"failureMessages":["\u001b[1m\u001b[31mJest encountered an unexpected token\u001b[39m\u001b[22m\n\nJest failed to parse a file. This happens e.g. when your code or its dependencies use non-standard JavaScript syntax, or when Jest is not configured to support such syntax.\n\nOut of the box Jest supports Babel, which will be used to transform your files into valid JS based on your Babel configuration.\n\nBy default \"node_modules\" folder is ignored by transformers.\n\nHere's what you can do:\n • If you are trying to use ECMAScript Modules, see \u001b[4mhttps://jestjs.io/docs/ecmascript-modules\u001b[24m for how to enable it.\n • If you are trying to use TypeScript, see \u001b[4mhttps://jestjs.io/docs/getting-started#using-typescript\u001b[24m\n • To have some of your \"node_modules\" files transformed, you can specify a custom \u001b[1m\"transformIgnorePatterns\"\u001b[22m in your config.\n • If you need a custom transformation specify a \u001b[1m\"transform\"\u001b[22m option in your config.\n • If you simply want to mock your non-JS modules (e.g. binary assets) you can stub them out with the \u001b[1m\"moduleNameMapper\"\u001b[22m config option.\n\nYou'll find more details and examples of these config options in the docs:\n\u001b[36mhttps://jestjs.io/docs/configuration\u001b[39m\nFor information about custom transformations, see:\n\u001b[36mhttps://jestjs.io/docs/code-transformation\u001b[39m\n\n\u001b[1m\u001b[31mDetails:\u001b[39m\u001b[22m\n\nC:\\Top-That-Refactor\\public\\scripts\\main.ts:17\nif (import.meta.env.MODE !== 'production' || globalThis.process?.env?.NODE_ENV !== 'production') {\n           ^^^^\n\nSyntaxError: Cannot use 'import.meta' outside a module\n    at new Script (node:vm:117:7)\n    at Runtime.createScriptFromCode (C:\\Top-That-Refactor\\node_modules\\jest-runtime\\build\\index.js:1505:14)\n    at Runtime._execModule (C:\\Top-That-Refactor\\node_modules\\jest-runtime\\build\\index.js:1399:25)\n    at Runtime._loadModule (C:\\Top-That-Refactor\\node_modules\\jest-runtime\\build\\index.js:1022:12)\n    at Runtime.requireModule (C:\\Top-That-Refactor\\node_modules\\jest-runtime\\build\\index.js:882:12)\n    at Runtime.requireModuleOrMock (C:\\Top-That-Refactor\\node_modules\\jest-runtime\\build\\index.js:1048:21)\n    at require (C:\\Top-That-Refactor\\public\\scripts\\main.test.ts:134:7)\n    at C:\\Top-That-Refactor\\public\\scripts\\main.test.ts:134:7"],"fullName":"Client Main Script (main.ts) should not run join link logic if already in-session","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should not run join link logic if already in-session"},{"ancestorTitles":["Client Main Script (main.ts)"],"duration":2,"failureDetails":[{}],"failureMessages":["\u001b[1m\u001b[31mJest encountered an unexpected token\u001b[39m\u001b[22m\n\nJest failed to parse a file. This happens e.g. when your code or its dependencies use non-standard JavaScript syntax, or when Jest is not configured to support such syntax.\n\nOut of the box Jest supports Babel, which will be used to transform your files into valid JS based on your Babel configuration.\n\nBy default \"node_modules\" folder is ignored by transformers.\n\nHere's what you can do:\n • If you are trying to use ECMAScript Modules, see \u001b[4mhttps://jestjs.io/docs/ecmascript-modules\u001b[24m for how to enable it.\n • If you are trying to use TypeScript, see \u001b[4mhttps://jestjs.io/docs/getting-started#using-typescript\u001b[24m\n • To have some of your \"node_modules\" files transformed, you can specify a custom \u001b[1m\"transformIgnorePatterns\"\u001b[22m in your config.\n • If you need a custom transformation specify a \u001b[1m\"transform\"\u001b[22m option in your config.\n • If you simply want to mock your non-JS modules (e.g. binary assets) you can stub them out with the \u001b[1m\"moduleNameMapper\"\u001b[22m config option.\n\nYou'll find more details and examples of these config options in the docs:\n\u001b[36mhttps://jestjs.io/docs/configuration\u001b[39m\nFor information about custom transformations, see:\n\u001b[36mhttps://jestjs.io/docs/code-transformation\u001b[39m\n\n\u001b[1m\u001b[31mDetails:\u001b[39m\u001b[22m\n\nC:\\Top-That-Refactor\\public\\scripts\\main.ts:17\nif (import.meta.env.MODE !== 'production' || globalThis.process?.env?.NODE_ENV !== 'production') {\n           ^^^^\n\nSyntaxError: Cannot use 'import.meta' outside a module\n    at new Script (node:vm:117:7)\n    at Runtime.createScriptFromCode (C:\\Top-That-Refactor\\node_modules\\jest-runtime\\build\\index.js:1505:14)\n    at Runtime._execModule (C:\\Top-That-Refactor\\node_modules\\jest-runtime\\build\\index.js:1399:25)\n    at Runtime._loadModule (C:\\Top-That-Refactor\\node_modules\\jest-runtime\\build\\index.js:1022:12)\n    at Runtime.requireModule (C:\\Top-That-Refactor\\node_modules\\jest-runtime\\build\\index.js:882:12)\n    at Runtime.requireModuleOrMock (C:\\Top-That-Refactor\\node_modules\\jest-runtime\\build\\index.js:1048:21)\n    at require (C:\\Top-That-Refactor\\public\\scripts\\main.test.ts:148:7)\n    at C:\\Top-That-Refactor\\public\\scripts\\main.test.ts:148:7"],"fullName":"Client Main Script (main.ts) should not throw if in-session modal is missing","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should not throw if in-session modal is missing"},{"ancestorTitles":["Client Main Script (main.ts)"],"duration":2,"failureDetails":[{}],"failureMessages":["\u001b[1m\u001b[31mJest encountered an unexpected token\u001b[39m\u001b[22m\n\nJest failed to parse a file. This happens e.g. when your code or its dependencies use non-standard JavaScript syntax, or when Jest is not configured to support such syntax.\n\nOut of the box Jest supports Babel, which will be used to transform your files into valid JS based on your Babel configuration.\n\nBy default \"node_modules\" folder is ignored by transformers.\n\nHere's what you can do:\n • If you are trying to use ECMAScript Modules, see \u001b[4mhttps://jestjs.io/docs/ecmascript-modules\u001b[24m for how to enable it.\n • If you are trying to use TypeScript, see \u001b[4mhttps://jestjs.io/docs/getting-started#using-typescript\u001b[24m\n • To have some of your \"node_modules\" files transformed, you can specify a custom \u001b[1m\"transformIgnorePatterns\"\u001b[22m in your config.\n • If you need a custom transformation specify a \u001b[1m\"transform\"\u001b[22m option in your config.\n • If you simply want to mock your non-JS modules (e.g. binary assets) you can stub them out with the \u001b[1m\"moduleNameMapper\"\u001b[22m config option.\n\nYou'll find more details and examples of these config options in the docs:\n\u001b[36mhttps://jestjs.io/docs/configuration\u001b[39m\nFor information about custom transformations, see:\n\u001b[36mhttps://jestjs.io/docs/code-transformation\u001b[39m\n\n\u001b[1m\u001b[31mDetails:\u001b[39m\u001b[22m\n\nC:\\Top-That-Refactor\\public\\scripts\\main.ts:17\nif (import.meta.env.MODE !== 'production' || globalThis.process?.env?.NODE_ENV !== 'production') {\n           ^^^^\n\nSyntaxError: Cannot use 'import.meta' outside a module\n    at new Script (node:vm:117:7)\n    at Runtime.createScriptFromCode (C:\\Top-That-Refactor\\node_modules\\jest-runtime\\build\\index.js:1505:14)\n    at Runtime._execModule (C:\\Top-That-Refactor\\node_modules\\jest-runtime\\build\\index.js:1399:25)\n    at Runtime._loadModule (C:\\Top-That-Refactor\\node_modules\\jest-runtime\\build\\index.js:1022:12)\n    at Runtime.requireModule (C:\\Top-That-Refactor\\node_modules\\jest-runtime\\build\\index.js:882:12)\n    at Runtime.requireModuleOrMock (C:\\Top-That-Refactor\\node_modules\\jest-runtime\\build\\index.js:1048:21)\n    at require (C:\\Top-That-Refactor\\public\\scripts\\main.test.ts:157:7)\n    at C:\\Top-That-Refactor\\public\\scripts\\main.test.ts:157:7"],"fullName":"Client Main Script (main.ts) removes inline styles from player icons and observes DOM changes","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"removes inline styles from player icons and observes DOM changes"}],"endTime":1768775255065,"message":"\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mClient Main Script (main.ts) › should attempt to connect with Socket.IO when loaded\u001b[39m\u001b[22m\n\n    \u001b[1m\u001b[31mJest encountered an unexpected token\u001b[39m\u001b[22m\n\n    Jest failed to parse a file. This happens e.g. when your code or its dependencies use non-standard JavaScript syntax, or when Jest is not configured to support such syntax.\n\n    Out of the box Jest supports Babel, which will be used to transform your files into valid JS based on your Babel configuration.\n\n    By default \"node_modules\" folder is ignored by transformers.\n\n    Here's what you can do:\n     • If you are trying to use ECMAScript Modules, see \u001b[4mhttps://jestjs.io/docs/ecmascript-modules\u001b[24m for how to enable it.\n     • If you are trying to use TypeScript, see \u001b[4mhttps://jestjs.io/docs/getting-started#using-typescript\u001b[24m\n     • To have some of your \"node_modules\" files transformed, you can specify a custom \u001b[1m\"transformIgnorePatterns\"\u001b[22m in your config.\n     • If you need a custom transformation specify a \u001b[1m\"transform\"\u001b[22m option in your config.\n     • If you simply want to mock your non-JS modules (e.g. binary assets) you can stub them out with the \u001b[1m\"moduleNameMapper\"\u001b[22m config option.\n\n    You'll find more details and examples of these config options in the docs:\n    \u001b[36mhttps://jestjs.io/docs/configuration\u001b[39m\n    For information about custom transformations, see:\n    \u001b[36mhttps://jestjs.io/docs/code-transformation\u001b[39m\n\n    \u001b[1m\u001b[31mDetails:\u001b[39m\u001b[22m\n\n    C:\\Top-That-Refactor\\public\\scripts\\main.ts:17\n    if (import.meta.env.MODE !== 'production' || globalThis.process?.env?.NODE_ENV !== 'production') {\n               ^^^^\n\n    SyntaxError: Cannot use 'import.meta' outside a module\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m  97 |\u001b[39m     \u001b[36mconst\u001b[39m stateModule \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m \u001b[36mimport\u001b[39m(\u001b[32m'./state.js'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m  98 |\u001b[39m     \u001b[36mawait\u001b[39m jest\u001b[33m.\u001b[39misolateModulesAsync(\u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m  99 |\u001b[39m       \u001b[36mawait\u001b[39m \u001b[36mimport\u001b[39m(\u001b[32m'./main.js'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m       \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 100 |\u001b[39m       document\u001b[33m.\u001b[39mdispatchEvent(\u001b[36mnew\u001b[39m \u001b[33mEvent\u001b[39m(\u001b[32m'DOMContentLoaded'\u001b[39m))\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 101 |\u001b[39m       \u001b[36mawait\u001b[39m \u001b[33mPromise\u001b[39m\u001b[33m.\u001b[39mresolve()\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 102 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Runtime.createScriptFromCode (\u001b[22m\u001b[2mnode_modules/jest-runtime/build/index.js\u001b[2m:1505:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat require (\u001b[22m\u001b[2m\u001b[0m\u001b[36mpublic/scripts/main.test.ts\u001b[39m\u001b[0m\u001b[2m:99:7)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2m\u001b[0m\u001b[36mpublic/scripts/main.test.ts\u001b[39m\u001b[0m\u001b[2m:99:7\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mClient Main Script (main.ts) › should unhide lobby and set correct classes on DOMContentLoaded\u001b[39m\u001b[22m\n\n    \u001b[1m\u001b[31mJest encountered an unexpected token\u001b[39m\u001b[22m\n\n    Jest failed to parse a file. This happens e.g. when your code or its dependencies use non-standard JavaScript syntax, or when Jest is not configured to support such syntax.\n\n    Out of the box Jest supports Babel, which will be used to transform your files into valid JS based on your Babel configuration.\n\n    By default \"node_modules\" folder is ignored by transformers.\n\n    Here's what you can do:\n     • If you are trying to use ECMAScript Modules, see \u001b[4mhttps://jestjs.io/docs/ecmascript-modules\u001b[24m for how to enable it.\n     • If you are trying to use TypeScript, see \u001b[4mhttps://jestjs.io/docs/getting-started#using-typescript\u001b[24m\n     • To have some of your \"node_modules\" files transformed, you can specify a custom \u001b[1m\"transformIgnorePatterns\"\u001b[22m in your config.\n     • If you need a custom transformation specify a \u001b[1m\"transform\"\u001b[22m option in your config.\n     • If you simply want to mock your non-JS modules (e.g. binary assets) you can stub them out with the \u001b[1m\"moduleNameMapper\"\u001b[22m config option.\n\n    You'll find more details and examples of these config options in the docs:\n    \u001b[36mhttps://jestjs.io/docs/configuration\u001b[39m\n    For information about custom transformations, see:\n    \u001b[36mhttps://jestjs.io/docs/code-transformation\u001b[39m\n\n    \u001b[1m\u001b[31mDetails:\u001b[39m\u001b[22m\n\n    C:\\Top-That-Refactor\\public\\scripts\\main.ts:17\n    if (import.meta.env.MODE !== 'production' || globalThis.process?.env?.NODE_ENV !== 'production') {\n               ^^^^\n\n    SyntaxError: Cannot use 'import.meta' outside a module\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 108 |\u001b[39m     setupMainDOM()\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 109 |\u001b[39m     \u001b[36mawait\u001b[39m jest\u001b[33m.\u001b[39misolateModulesAsync(\u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 110 |\u001b[39m       \u001b[36mawait\u001b[39m \u001b[36mimport\u001b[39m(\u001b[32m'./main.js'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m       \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 111 |\u001b[39m       document\u001b[33m.\u001b[39mdispatchEvent(\u001b[36mnew\u001b[39m \u001b[33mEvent\u001b[39m(\u001b[32m'DOMContentLoaded'\u001b[39m))\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 112 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 113 |\u001b[39m     expect(document\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39mclassList\u001b[33m.\u001b[39mcontains(\u001b[32m'body-loading'\u001b[39m))\u001b[33m.\u001b[39mtoBe(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Runtime.createScriptFromCode (\u001b[22m\u001b[2mnode_modules/jest-runtime/build/index.js\u001b[2m:1505:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat require (\u001b[22m\u001b[2m\u001b[0m\u001b[36mpublic/scripts/main.test.ts\u001b[39m\u001b[0m\u001b[2m:110:7)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2m\u001b[0m\u001b[36mpublic/scripts/main.test.ts\u001b[39m\u001b[0m\u001b[2m:110:7\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mClient Main Script (main.ts) › should not throw if lobby container is missing\u001b[39m\u001b[22m\n\n    \u001b[1m\u001b[31mJest encountered an unexpected token\u001b[39m\u001b[22m\n\n    Jest failed to parse a file. This happens e.g. when your code or its dependencies use non-standard JavaScript syntax, or when Jest is not configured to support such syntax.\n\n    Out of the box Jest supports Babel, which will be used to transform your files into valid JS based on your Babel configuration.\n\n    By default \"node_modules\" folder is ignored by transformers.\n\n    Here's what you can do:\n     • If you are trying to use ECMAScript Modules, see \u001b[4mhttps://jestjs.io/docs/ecmascript-modules\u001b[24m for how to enable it.\n     • If you are trying to use TypeScript, see \u001b[4mhttps://jestjs.io/docs/getting-started#using-typescript\u001b[24m\n     • To have some of your \"node_modules\" files transformed, you can specify a custom \u001b[1m\"transformIgnorePatterns\"\u001b[22m in your config.\n     • If you need a custom transformation specify a \u001b[1m\"transform\"\u001b[22m option in your config.\n     • If you simply want to mock your non-JS modules (e.g. binary assets) you can stub them out with the \u001b[1m\"moduleNameMapper\"\u001b[22m config option.\n\n    You'll find more details and examples of these config options in the docs:\n    \u001b[36mhttps://jestjs.io/docs/configuration\u001b[39m\n    For information about custom transformations, see:\n    \u001b[36mhttps://jestjs.io/docs/code-transformation\u001b[39m\n\n    \u001b[1m\u001b[31mDetails:\u001b[39m\u001b[22m\n\n    C:\\Top-That-Refactor\\public\\scripts\\main.ts:17\n    if (import.meta.env.MODE !== 'production' || globalThis.process?.env?.NODE_ENV !== 'production') {\n               ^^^^\n\n    SyntaxError: Cannot use 'import.meta' outside a module\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 120 |\u001b[39m     setupMainDOM({ withLobby\u001b[33m:\u001b[39m \u001b[36mfalse\u001b[39m })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 121 |\u001b[39m     \u001b[36mawait\u001b[39m jest\u001b[33m.\u001b[39misolateModulesAsync(\u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 122 |\u001b[39m       \u001b[36mawait\u001b[39m \u001b[36mimport\u001b[39m(\u001b[32m'./main.js'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m       \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 123 |\u001b[39m       document\u001b[33m.\u001b[39mdispatchEvent(\u001b[36mnew\u001b[39m \u001b[33mEvent\u001b[39m(\u001b[32m'DOMContentLoaded'\u001b[39m))\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 124 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 125 |\u001b[39m     expect(document\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39mclassList\u001b[33m.\u001b[39mcontains(\u001b[32m'showing-lobby'\u001b[39m))\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Runtime.createScriptFromCode (\u001b[22m\u001b[2mnode_modules/jest-runtime/build/index.js\u001b[2m:1505:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat require (\u001b[22m\u001b[2m\u001b[0m\u001b[36mpublic/scripts/main.test.ts\u001b[39m\u001b[0m\u001b[2m:122:7)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2m\u001b[0m\u001b[36mpublic/scripts/main.test.ts\u001b[39m\u001b[0m\u001b[2m:122:7\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mClient Main Script (main.ts) › should not run join link logic if already in-session\u001b[39m\u001b[22m\n\n    \u001b[1m\u001b[31mJest encountered an unexpected token\u001b[39m\u001b[22m\n\n    Jest failed to parse a file. This happens e.g. when your code or its dependencies use non-standard JavaScript syntax, or when Jest is not configured to support such syntax.\n\n    Out of the box Jest supports Babel, which will be used to transform your files into valid JS based on your Babel configuration.\n\n    By default \"node_modules\" folder is ignored by transformers.\n\n    Here's what you can do:\n     • If you are trying to use ECMAScript Modules, see \u001b[4mhttps://jestjs.io/docs/ecmascript-modules\u001b[24m for how to enable it.\n     • If you are trying to use TypeScript, see \u001b[4mhttps://jestjs.io/docs/getting-started#using-typescript\u001b[24m\n     • To have some of your \"node_modules\" files transformed, you can specify a custom \u001b[1m\"transformIgnorePatterns\"\u001b[22m in your config.\n     • If you need a custom transformation specify a \u001b[1m\"transform\"\u001b[22m option in your config.\n     • If you simply want to mock your non-JS modules (e.g. binary assets) you can stub them out with the \u001b[1m\"moduleNameMapper\"\u001b[22m config option.\n\n    You'll find more details and examples of these config options in the docs:\n    \u001b[36mhttps://jestjs.io/docs/configuration\u001b[39m\n    For information about custom transformations, see:\n    \u001b[36mhttps://jestjs.io/docs/code-transformation\u001b[39m\n\n    \u001b[1m\u001b[31mDetails:\u001b[39m\u001b[22m\n\n    C:\\Top-That-Refactor\\public\\scripts\\main.ts:17\n    if (import.meta.env.MODE !== 'production' || globalThis.process?.env?.NODE_ENV !== 'production') {\n               ^^^^\n\n    SyntaxError: Cannot use 'import.meta' outside a module\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 132 |\u001b[39m     \u001b[36mconst\u001b[39m stateModule \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m \u001b[36mimport\u001b[39m(\u001b[32m'./state.js'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 133 |\u001b[39m     \u001b[36mawait\u001b[39m jest\u001b[33m.\u001b[39misolateModulesAsync(\u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 134 |\u001b[39m       \u001b[36mawait\u001b[39m \u001b[36mimport\u001b[39m(\u001b[32m'./main.js'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m       \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 135 |\u001b[39m       document\u001b[33m.\u001b[39mdispatchEvent(\u001b[36mnew\u001b[39m \u001b[33mEvent\u001b[39m(\u001b[32m'DOMContentLoaded'\u001b[39m))\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 136 |\u001b[39m       \u001b[36mawait\u001b[39m \u001b[33mPromise\u001b[39m\u001b[33m.\u001b[39mresolve()\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 137 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Runtime.createScriptFromCode (\u001b[22m\u001b[2mnode_modules/jest-runtime/build/index.js\u001b[2m:1505:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat require (\u001b[22m\u001b[2m\u001b[0m\u001b[36mpublic/scripts/main.test.ts\u001b[39m\u001b[0m\u001b[2m:134:7)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2m\u001b[0m\u001b[36mpublic/scripts/main.test.ts\u001b[39m\u001b[0m\u001b[2m:134:7\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mClient Main Script (main.ts) › should not throw if in-session modal is missing\u001b[39m\u001b[22m\n\n    \u001b[1m\u001b[31mJest encountered an unexpected token\u001b[39m\u001b[22m\n\n    Jest failed to parse a file. This happens e.g. when your code or its dependencies use non-standard JavaScript syntax, or when Jest is not configured to support such syntax.\n\n    Out of the box Jest supports Babel, which will be used to transform your files into valid JS based on your Babel configuration.\n\n    By default \"node_modules\" folder is ignored by transformers.\n\n    Here's what you can do:\n     • If you are trying to use ECMAScript Modules, see \u001b[4mhttps://jestjs.io/docs/ecmascript-modules\u001b[24m for how to enable it.\n     • If you are trying to use TypeScript, see \u001b[4mhttps://jestjs.io/docs/getting-started#using-typescript\u001b[24m\n     • To have some of your \"node_modules\" files transformed, you can specify a custom \u001b[1m\"transformIgnorePatterns\"\u001b[22m in your config.\n     • If you need a custom transformation specify a \u001b[1m\"transform\"\u001b[22m option in your config.\n     • If you simply want to mock your non-JS modules (e.g. binary assets) you can stub them out with the \u001b[1m\"moduleNameMapper\"\u001b[22m config option.\n\n    You'll find more details and examples of these config options in the docs:\n    \u001b[36mhttps://jestjs.io/docs/configuration\u001b[39m\n    For information about custom transformations, see:\n    \u001b[36mhttps://jestjs.io/docs/code-transformation\u001b[39m\n\n    \u001b[1m\u001b[31mDetails:\u001b[39m\u001b[22m\n\n    C:\\Top-That-Refactor\\public\\scripts\\main.ts:17\n    if (import.meta.env.MODE !== 'production' || globalThis.process?.env?.NODE_ENV !== 'production') {\n               ^^^^\n\n    SyntaxError: Cannot use 'import.meta' outside a module\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 146 |\u001b[39m     setupMainDOM({ withModal\u001b[33m:\u001b[39m \u001b[36mfalse\u001b[39m })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 147 |\u001b[39m     \u001b[36mawait\u001b[39m jest\u001b[33m.\u001b[39misolateModulesAsync(\u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 148 |\u001b[39m       \u001b[36mawait\u001b[39m \u001b[36mimport\u001b[39m(\u001b[32m'./main.js'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m       \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 149 |\u001b[39m       document\u001b[33m.\u001b[39mdispatchEvent(\u001b[36mnew\u001b[39m \u001b[33mEvent\u001b[39m(\u001b[32m'DOMContentLoaded'\u001b[39m))\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 150 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 151 |\u001b[39m     expect(document\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39mclassList\u001b[33m.\u001b[39mcontains(\u001b[32m'showing-lobby'\u001b[39m))\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Runtime.createScriptFromCode (\u001b[22m\u001b[2mnode_modules/jest-runtime/build/index.js\u001b[2m:1505:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat require (\u001b[22m\u001b[2m\u001b[0m\u001b[36mpublic/scripts/main.test.ts\u001b[39m\u001b[0m\u001b[2m:148:7)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2m\u001b[0m\u001b[36mpublic/scripts/main.test.ts\u001b[39m\u001b[0m\u001b[2m:148:7\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mClient Main Script (main.ts) › removes inline styles from player icons and observes DOM changes\u001b[39m\u001b[22m\n\n    \u001b[1m\u001b[31mJest encountered an unexpected token\u001b[39m\u001b[22m\n\n    Jest failed to parse a file. This happens e.g. when your code or its dependencies use non-standard JavaScript syntax, or when Jest is not configured to support such syntax.\n\n    Out of the box Jest supports Babel, which will be used to transform your files into valid JS based on your Babel configuration.\n\n    By default \"node_modules\" folder is ignored by transformers.\n\n    Here's what you can do:\n     • If you are trying to use ECMAScript Modules, see \u001b[4mhttps://jestjs.io/docs/ecmascript-modules\u001b[24m for how to enable it.\n     • If you are trying to use TypeScript, see \u001b[4mhttps://jestjs.io/docs/getting-started#using-typescript\u001b[24m\n     • To have some of your \"node_modules\" files transformed, you can specify a custom \u001b[1m\"transformIgnorePatterns\"\u001b[22m in your config.\n     • If you need a custom transformation specify a \u001b[1m\"transform\"\u001b[22m option in your config.\n     • If you simply want to mock your non-JS modules (e.g. binary assets) you can stub them out with the \u001b[1m\"moduleNameMapper\"\u001b[22m config option.\n\n    You'll find more details and examples of these config options in the docs:\n    \u001b[36mhttps://jestjs.io/docs/configuration\u001b[39m\n    For information about custom transformations, see:\n    \u001b[36mhttps://jestjs.io/docs/code-transformation\u001b[39m\n\n    \u001b[1m\u001b[31mDetails:\u001b[39m\u001b[22m\n\n    C:\\Top-That-Refactor\\public\\scripts\\main.ts:17\n    if (import.meta.env.MODE !== 'production' || globalThis.process?.env?.NODE_ENV !== 'production') {\n               ^^^^\n\n    SyntaxError: Cannot use 'import.meta' outside a module\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 155 |\u001b[39m     setupMainDOM()\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 156 |\u001b[39m     \u001b[36mawait\u001b[39m jest\u001b[33m.\u001b[39misolateModulesAsync(\u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 157 |\u001b[39m       \u001b[36mawait\u001b[39m \u001b[36mimport\u001b[39m(\u001b[32m'./main.js'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m       \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 158 |\u001b[39m       document\u001b[33m.\u001b[39mdispatchEvent(\u001b[36mnew\u001b[39m \u001b[33mEvent\u001b[39m(\u001b[32m'DOMContentLoaded'\u001b[39m))\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 159 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 160 |\u001b[39m     \u001b[90m// Add a player icon with inline style\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Runtime.createScriptFromCode (\u001b[22m\u001b[2mnode_modules/jest-runtime/build/index.js\u001b[2m:1505:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat require (\u001b[22m\u001b[2m\u001b[0m\u001b[36mpublic/scripts/main.test.ts\u001b[39m\u001b[0m\u001b[2m:157:7)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2m\u001b[0m\u001b[36mpublic/scripts/main.test.ts\u001b[39m\u001b[0m\u001b[2m:157:7\u001b[22m\u001b[2m\u001b[22m\n","name":"C:\\Top-That-Refactor\\public\\scripts\\main.test.ts","startTime":1768775255008,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["Lobby Form Submission","Validation"],"duration":16,"failureDetails":[],"failureMessages":[],"fullName":"Lobby Form Submission Validation shows error if name is empty","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"shows error if name is empty"},{"ancestorTitles":["Lobby Form Submission","Validation"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Lobby Form Submission Validation shows error if name is too short (min length 2)","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"shows error if name is too short (min length 2)"},{"ancestorTitles":["Lobby Form Submission","Validation"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Lobby Form Submission Validation shows error if total players (humans + CPUs) < 2","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"shows error if total players (humans + CPUs) < 2"},{"ancestorTitles":["Lobby Form Submission","Validation"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Lobby Form Submission Validation shows error if total players (humans + CPUs) > 4","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"shows error if total players (humans + CPUs) > 4"},{"ancestorTitles":["Lobby Form Submission","Validation"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Lobby Form Submission Validation shows error if player name is only whitespace","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"shows error if player name is only whitespace"},{"ancestorTitles":["Lobby Form Submission","Validation"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Lobby Form Submission Validation shows error when join code is invalid","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"shows error when join code is invalid"},{"ancestorTitles":["Lobby Form Submission","Validation"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Lobby Form Submission Validation shows error if join code is missing when joining","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"shows error if join code is missing when joining"},{"ancestorTitles":["Lobby Form Submission","Form actions"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"Lobby Form Submission Form actions starts a CPU game locally when only bots are selected","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"starts a CPU game locally when only bots are selected"},{"ancestorTitles":["Lobby Form Submission","Form actions"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Lobby Form Submission Form actions generates a lobby link when another human is expected","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"generates a lobby link when another human is expected"},{"ancestorTitles":["Lobby Form Submission","Form actions"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Lobby Form Submission Form actions emits JOIN_GAME with room code when join button clicked","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"emits JOIN_GAME with room code when join button clicked"},{"ancestorTitles":["Lobby Form Submission","Form actions"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Lobby Form Submission Form actions disables join button after click and re-enables after error","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"disables join button after click and re-enables after error"},{"ancestorTitles":["Lobby Form Submission","Form actions"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Lobby Form Submission Form actions calls state.saveSession and setCurrentRoom when joining","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"calls state.saveSession and setCurrentRoom when joining"},{"ancestorTitles":["Lobby Form Submission","Form actions"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Lobby Form Submission Form actions does not emit JOIN_GAME twice if join button is clicked rapidly","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"does not emit JOIN_GAME twice if join button is clicked rapidly"},{"ancestorTitles":["Lobby Form Submission","Form actions"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Lobby Form Submission Form actions clears error message after successful join","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"clears error message after successful join"},{"ancestorTitles":["Lobby Form Submission","Form actions"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Lobby Form Submission Form actions resets form after successful join","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"resets form after successful join"}],"endTime":1768775255293,"message":"","name":"C:\\Top-That-Refactor\\tests\\lobbyForm.test.ts","startTime":1768775255073,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Game Flow - Single Player vs CPU (manual start)"],"duration":11,"failureDetails":[],"failureMessages":[],"fullName":"Game Flow - Single Player vs CPU (manual start) Player joins and host starts game with 1 CPU, initial state is broadcast","invocations":1,"location":null,"numPassingAsserts":13,"retryReasons":[],"status":"passed","title":"Player joins and host starts game with 1 CPU, initial state is broadcast"},{"ancestorTitles":["Game Flow - Lobby with Extra Human"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Game Flow - Lobby with Extra Human No auto-start when expecting another human","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"No auto-start when expecting another human"},{"ancestorTitles":["Game Flow - Manual Start by Host"],"duration":7,"failureDetails":[],"failureMessages":[],"fullName":"Game Flow - Manual Start by Host Host joins (no auto-CPUs), Player2 joins, Host starts game (no explicit CPUs)","invocations":1,"location":null,"numPassingAsserts":20,"retryReasons":[],"status":"passed","title":"Host joins (no auto-CPUs), Player2 joins, Host starts game (no explicit CPUs)"},{"ancestorTitles":["Comprehensive Join/Lobby/Start Flow Edge Cases"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Comprehensive Join/Lobby/Start Flow Edge Cases Prevents duplicate join with same socket/player ID","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"Prevents duplicate join with same socket/player ID"},{"ancestorTitles":["Comprehensive Join/Lobby/Start Flow Edge Cases"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Comprehensive Join/Lobby/Start Flow Edge Cases Join with missing/invalid playerName is rejected","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"Join with missing/invalid playerName is rejected"},{"ancestorTitles":["Comprehensive Join/Lobby/Start Flow Edge Cases"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Comprehensive Join/Lobby/Start Flow Edge Cases Join with whitespace/empty playerName is rejected","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"Join with whitespace/empty playerName is rejected"},{"ancestorTitles":["Comprehensive Join/Lobby/Start Flow Edge Cases"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Comprehensive Join/Lobby/Start Flow Edge Cases Rejoin logic restores player state","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"Rejoin logic restores player state"},{"ancestorTitles":["Comprehensive Join/Lobby/Start Flow Edge Cases"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Comprehensive Join/Lobby/Start Flow Edge Cases Host reassignment when host disconnects before game start","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"Host reassignment when host disconnects before game start"},{"ancestorTitles":["Comprehensive Join/Lobby/Start Flow Edge Cases"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Comprehensive Join/Lobby/Start Flow Edge Cases Prevents join when room is full","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"Prevents join when room is full"},{"ancestorTitles":["Comprehensive Join/Lobby/Start Flow Edge Cases"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Comprehensive Join/Lobby/Start Flow Edge Cases Prevents join after game has started","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"Prevents join after game has started"},{"ancestorTitles":["Comprehensive Join/Lobby/Start Flow Edge Cases"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Comprehensive Join/Lobby/Start Flow Edge Cases All relevant events are emitted with correct payloads","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"All relevant events are emitted with correct payloads"},{"ancestorTitles":["Comprehensive Join/Lobby/Start Flow Edge Cases"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Comprehensive Join/Lobby/Start Flow Edge Cases Does not emit JOINED or STATE_UPDATE on failed join","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"Does not emit JOINED or STATE_UPDATE on failed join"},{"ancestorTitles":["Comprehensive Join/Lobby/Start Flow Edge Cases"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Comprehensive Join/Lobby/Start Flow Edge Cases JOINED event payload is correct on successful join","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"JOINED event payload is correct on successful join"},{"ancestorTitles":["Comprehensive Join/Lobby/Start Flow Edge Cases"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Comprehensive Join/Lobby/Start Flow Edge Cases Player can disconnect and reconnect during a game","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"Player can disconnect and reconnect during a game"},{"ancestorTitles":["Game Flow - Automatic Start When All Humans Ready"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"Game Flow - Automatic Start When All Humans Ready Game auto-starts when all humans are ready","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"Game auto-starts when all humans are ready"},{"ancestorTitles":["Game Flow - Invalid Card Play"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"Game Flow - Invalid Card Play Player receives error when playing card with invalid index","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"Player receives error when playing card with invalid index"},{"ancestorTitles":["Game Flow - Invalid Card Play"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"Game Flow - Invalid Card Play Invalid down card play forces pickup and advances turn","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"status":"passed","title":"Invalid down card play forces pickup and advances turn"},{"ancestorTitles":["Game Flow - Invalid Card Play"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Game Flow - Invalid Card Play Pick up is rejected when a valid play exists","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"Pick up is rejected when a valid play exists"},{"ancestorTitles":["Game Flow - Special Card Effects"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Game Flow - Special Card Effects CPU burn advances to the next player","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"CPU burn advances to the next player"},{"ancestorTitles":["Game Flow - 3 Player Full Game Simulation"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"Game Flow - 3 Player Full Game Simulation Full 3-player game flow, win, GAME_OVER, and restart","invocations":1,"location":null,"numPassingAsserts":19,"retryReasons":[],"status":"passed","title":"Full 3-player game flow, win, GAME_OVER, and restart"},{"ancestorTitles":["State Validation Guards"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"State Validation Guards Start game aborts with invalid state","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"Start game aborts with invalid state"},{"ancestorTitles":["State Validation Guards"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"State Validation Guards Rejoin aborts when state is inconsistent","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"Rejoin aborts when state is inconsistent"}],"endTime":1768775255441,"message":"","name":"C:\\Top-That-Refactor\\tests\\gameFlow.test.ts","startTime":1768775255313,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["InSessionLobbyModal"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"InSessionLobbyModal should have modal with role dialog and focusable","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should have modal with role dialog and focusable"},{"ancestorTitles":["InSessionLobbyModal"],"duration":18,"failureDetails":[],"failureMessages":[],"fullName":"InSessionLobbyModal renders all players as ready if status is ready","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"renders all players as ready if status is ready"},{"ancestorTitles":["InSessionLobbyModal"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"InSessionLobbyModal renders correctly with no players","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"renders correctly with no players"},{"ancestorTitles":["InSessionLobbyModal"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"InSessionLobbyModal renders >2 players and handles duplicate names","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"renders >2 players and handles duplicate names"},{"ancestorTitles":["InSessionLobbyModal"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"InSessionLobbyModal renders player with special characters in name","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"renders player with special characters in name"},{"ancestorTitles":["InSessionLobbyModal"],"duration":12,"failureDetails":[],"failureMessages":[],"fullName":"InSessionLobbyModal does not emit PLAYER_READY if name is empty","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"does not emit PLAYER_READY if name is empty"},{"ancestorTitles":["InSessionLobbyModal"],"duration":8,"failureDetails":[],"failureMessages":[],"fullName":"InSessionLobbyModal prevents rapid double ready clicks from emitting twice","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"prevents rapid double ready clicks from emitting twice"},{"ancestorTitles":["InSessionLobbyModal"],"duration":7,"failureDetails":[],"failureMessages":[],"fullName":"InSessionLobbyModal handles clipboard error gracefully","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"handles clipboard error gracefully"}],"endTime":1768775255649,"message":"","name":"C:\\Top-That-Refactor\\tests\\InSessionLobbyModal.test.ts","startTime":1768775255524,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["render.ts"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"render.ts returns correct code for numbered cards","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"returns correct code for numbered cards"},{"ancestorTitles":["render.ts"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"render.ts returns ERR for missing value or suit","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"returns ERR for missing value or suit"},{"ancestorTitles":["render.ts"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"render.ts returns ERR for unknown suit","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"returns ERR for unknown suit"}],"endTime":1768775255697,"message":"","name":"C:\\Top-That-Refactor\\tests\\public\\scripts\\render.test.ts","startTime":1768775255655,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["normalizeCardValue"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"normalizeCardValue normalizes string numbers to keywords where applicable","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"normalizes string numbers to keywords where applicable"},{"ancestorTitles":["normalizeCardValue"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"normalizeCardValue normalizes actual numbers to keywords or stringified numbers","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"normalizes actual numbers to keywords or stringified numbers"},{"ancestorTitles":["normalizeCardValue"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"normalizeCardValue normalizes mixed case face cards to single lowercase letter","invocations":1,"location":null,"numPassingAsserts":8,"retryReasons":[],"status":"passed","title":"normalizes mixed case face cards to single lowercase letter"},{"ancestorTitles":["normalizeCardValue"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"normalizeCardValue handles null and undefined","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"handles null and undefined"},{"ancestorTitles":["normalizeCardValue"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"normalizeCardValue handles empty string","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"handles empty string"},{"ancestorTitles":["normalizeCardValue edge cases"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"normalizeCardValue edge cases returns string for symbol, stringifies object and array","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"returns string for symbol, stringifies object and array"},{"ancestorTitles":["rank edge cases"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"rank edge cases returns 0 for object or array as value","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"returns 0 for object or array as value"},{"ancestorTitles":["rank"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"rank correctly ranks numeric cards","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"correctly ranks numeric cards"},{"ancestorTitles":["rank"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"rank correctly ranks special cards","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"correctly ranks special cards"},{"ancestorTitles":["rank"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"rank correctly ranks face cards (after normalization to single letter)","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"correctly ranks face cards (after normalization to single letter)"},{"ancestorTitles":["rank"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"rank rank returns 0 for unrankable or invalid card values","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"rank returns 0 for unrankable or invalid card values"},{"ancestorTitles":["isSpecialCard type checks"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"isSpecialCard type checks isTwoCard","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"isTwoCard"},{"ancestorTitles":["isSpecialCard type checks"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"isSpecialCard type checks isFiveCard","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"isFiveCard"},{"ancestorTitles":["isSpecialCard type checks"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"isSpecialCard type checks isTenCard","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"isTenCard"},{"ancestorTitles":["isSpecialCard type checks"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"isSpecialCard type checks isSpecialCard","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"isSpecialCard"},{"ancestorTitles":["isSpecialCard parameterized"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"isSpecialCard parameterized isTwoCard(\"2\") === true","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"isTwoCard(\"2\") === true"},{"ancestorTitles":["isSpecialCard parameterized"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"isSpecialCard parameterized isTwoCard(2) === true","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"isTwoCard(2) === true"},{"ancestorTitles":["isSpecialCard parameterized"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"isSpecialCard parameterized isTwoCard(\"two\") === true","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"isTwoCard(\"two\") === true"},{"ancestorTitles":["isSpecialCard parameterized"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"isSpecialCard parameterized isTwoCard(\"5\") === false","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"isTwoCard(\"5\") === false"},{"ancestorTitles":["isSpecialCard parameterized"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"isSpecialCard parameterized isTwoCard(null) === false","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"isTwoCard(null) === false"},{"ancestorTitles":["isSpecialCard parameterized"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"isSpecialCard parameterized isTwoCard(undefined) === false","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"isTwoCard(undefined) === false"},{"ancestorTitles":["isSpecialCard parameterized"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"isSpecialCard parameterized isTwoCard({}) === false","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"isTwoCard({}) === false"},{"ancestorTitles":["isSpecialCard parameterized"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"isSpecialCard parameterized isTwoCard([]) === false","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"isTwoCard([]) === false"},{"ancestorTitles":["isSpecialCard parameterized"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"isSpecialCard parameterized isFiveCard(\"5\") === true","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"isFiveCard(\"5\") === true"},{"ancestorTitles":["isSpecialCard parameterized"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"isSpecialCard parameterized isFiveCard(5) === true","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"isFiveCard(5) === true"},{"ancestorTitles":["isSpecialCard parameterized"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"isSpecialCard parameterized isFiveCard(\"five\") === true","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"isFiveCard(\"five\") === true"},{"ancestorTitles":["isSpecialCard parameterized"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"isSpecialCard parameterized isFiveCard(\"2\") === false","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"isFiveCard(\"2\") === false"},{"ancestorTitles":["isSpecialCard parameterized"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"isSpecialCard parameterized isFiveCard(null) === false","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"isFiveCard(null) === false"},{"ancestorTitles":["isSpecialCard parameterized"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"isSpecialCard parameterized isFiveCard(undefined) === false","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"isFiveCard(undefined) === false"},{"ancestorTitles":["isSpecialCard parameterized"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"isSpecialCard parameterized isFiveCard({}) === false","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"isFiveCard({}) === false"},{"ancestorTitles":["isSpecialCard parameterized"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"isSpecialCard parameterized isFiveCard([]) === false","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"isFiveCard([]) === false"},{"ancestorTitles":["isSpecialCard parameterized"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"isSpecialCard parameterized isTenCard(\"10\") === true","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"isTenCard(\"10\") === true"},{"ancestorTitles":["isSpecialCard parameterized"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"isSpecialCard parameterized isTenCard(10) === true","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"isTenCard(10) === true"},{"ancestorTitles":["isSpecialCard parameterized"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"isSpecialCard parameterized isTenCard(\"ten\") === true","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"isTenCard(\"ten\") === true"},{"ancestorTitles":["isSpecialCard parameterized"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"isSpecialCard parameterized isTenCard(\"J\") === false","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"isTenCard(\"J\") === false"},{"ancestorTitles":["isSpecialCard parameterized"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"isSpecialCard parameterized isTenCard(null) === false","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"isTenCard(null) === false"},{"ancestorTitles":["isSpecialCard parameterized"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"isSpecialCard parameterized isTenCard(undefined) === false","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"isTenCard(undefined) === false"},{"ancestorTitles":["isSpecialCard parameterized"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"isSpecialCard parameterized isTenCard({}) === false","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"isTenCard({}) === false"},{"ancestorTitles":["isSpecialCard parameterized"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"isSpecialCard parameterized isTenCard([]) === false","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"isTenCard([]) === false"},{"ancestorTitles":["isSpecialCard parameterized"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"isSpecialCard parameterized isSpecialCard(\"2\") === true","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"isSpecialCard(\"2\") === true"},{"ancestorTitles":["isSpecialCard parameterized"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"isSpecialCard parameterized isSpecialCard(5) === true","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"isSpecialCard(5) === true"},{"ancestorTitles":["isSpecialCard parameterized"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"isSpecialCard parameterized isSpecialCard(\"ten\") === true","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"isSpecialCard(\"ten\") === true"},{"ancestorTitles":["isSpecialCard parameterized"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"isSpecialCard parameterized isSpecialCard(\"ace\") === false","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"isSpecialCard(\"ace\") === false"},{"ancestorTitles":["isSpecialCard parameterized"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"isSpecialCard parameterized isSpecialCard(\"king\") === false","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"isSpecialCard(\"king\") === false"},{"ancestorTitles":["isSpecialCard parameterized"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"isSpecialCard parameterized isSpecialCard(null) === false","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"isSpecialCard(null) === false"},{"ancestorTitles":["isSpecialCard parameterized"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"isSpecialCard parameterized isSpecialCard(undefined) === false","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"isSpecialCard(undefined) === false"},{"ancestorTitles":["isSpecialCard parameterized"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"isSpecialCard parameterized isSpecialCard({}) === false","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"isSpecialCard({}) === false"},{"ancestorTitles":["isSpecialCard parameterized"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"isSpecialCard parameterized isSpecialCard([]) === false","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"isSpecialCard([]) === false"},{"ancestorTitles":["isFourOfAKind edge cases"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"isFourOfAKind edge cases returns false if all values are null or undefined","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"returns false if all values are null or undefined"},{"ancestorTitles":["isFourOfAKind edge cases"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"isFourOfAKind edge cases returns false for mixed types that do not normalize equally","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"returns false for mixed types that do not normalize equally"},{"ancestorTitles":["isFourOfAKind edge cases"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"isFourOfAKind edge cases isFourOfAKind([1,1,1,1]) === true","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"isFourOfAKind([1,1,1,1]) === true"},{"ancestorTitles":["isFourOfAKind edge cases"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"isFourOfAKind edge cases isFourOfAKind([1,\"1\",1,\"1\"]) === true","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"isFourOfAKind([1,\"1\",1,\"1\"]) === true"},{"ancestorTitles":["isFourOfAKind edge cases"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"isFourOfAKind edge cases isFourOfAKind([\"A\",\"A\",\"A\",\"A\"]) === true","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"isFourOfAKind([\"A\",\"A\",\"A\",\"A\"]) === true"},{"ancestorTitles":["isFourOfAKind edge cases"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"isFourOfAKind edge cases isFourOfAKind([\"A\",\"K\",\"A\",\"A\"]) === false","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"isFourOfAKind([\"A\",\"K\",\"A\",\"A\"]) === false"},{"ancestorTitles":["isFourOfAKind edge cases"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"isFourOfAKind edge cases isFourOfAKind([null,null,null,null]) === false","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"isFourOfAKind([null,null,null,null]) === false"},{"ancestorTitles":["isFourOfAKind edge cases"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"isFourOfAKind edge cases isFourOfAKind([null,null,null,null]) === false","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"isFourOfAKind([null,null,null,null]) === false"},{"ancestorTitles":["isFourOfAKind"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"isFourOfAKind returns true for four of a kind (numeric, normalized to same string)","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"returns true for four of a kind (numeric, normalized to same string)"},{"ancestorTitles":["isFourOfAKind"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"isFourOfAKind returns true for face cards that normalize IDENTICALLY (e.g., all to \"k\")","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"returns true for face cards that normalize IDENTICALLY (e.g., all to \"k\")"},{"ancestorTitles":["isFourOfAKind"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"isFourOfAKind returns false for less than 4 cards","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"returns false for less than 4 cards"},{"ancestorTitles":["isFourOfAKind"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"isFourOfAKind returns false for not four of a kind","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"returns false for not four of a kind"},{"ancestorTitles":["isFourOfAKind"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"isFourOfAKind returns false for an empty hand","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"returns false for an empty hand"},{"ancestorTitles":["isFourOfAKind"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"isFourOfAKind returns false if any card value results in null/undefined after normalization","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"returns false if any card value results in null/undefined after normalization"},{"ancestorTitles":["isFourOfAKind"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"isFourOfAKind isFourOfAKind works for non-keyword numbers that normalize to same string","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"isFourOfAKind works for non-keyword numbers that normalize to same string"},{"ancestorTitles":["isFourOfAKind"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"isFourOfAKind isFourOfAKind for specific keywords like \"two\"","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"isFourOfAKind for specific keywords like \"two\""},{"ancestorTitles":["normalizeCardValue fuzz/randomized"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"normalizeCardValue fuzz/randomized never throws for any input","invocations":1,"location":null,"numPassingAsserts":29,"retryReasons":[],"status":"passed","title":"never throws for any input"},{"ancestorTitles":["rank monotonicity"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"rank monotonicity rank is monotonic for numeric and face card values","invocations":1,"location":null,"numPassingAsserts":13,"retryReasons":[],"status":"passed","title":"rank is monotonic for numeric and face card values"},{"ancestorTitles":["rank monotonicity"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"rank monotonicity rank is monotonic for keyword string values","invocations":1,"location":null,"numPassingAsserts":13,"retryReasons":[],"status":"passed","title":"rank is monotonic for keyword string values"},{"ancestorTitles":["normalizeCardValue additional keywords and edge cases"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"normalizeCardValue additional keywords and edge cases normalizes all number keywords and mixed case","invocations":1,"location":null,"numPassingAsserts":18,"retryReasons":[],"status":"passed","title":"normalizes all number keywords and mixed case"},{"ancestorTitles":["normalizeCardValue additional keywords and edge cases"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"normalizeCardValue additional keywords and edge cases trims whitespace and normalizes","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"trims whitespace and normalizes"},{"ancestorTitles":["normalizeCardValue additional keywords and edge cases"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"normalizeCardValue additional keywords and edge cases handles non-stringifiable objects","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"handles non-stringifiable objects"},{"ancestorTitles":["rank additional edge cases"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"rank additional edge cases ranks all number keywords","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"status":"passed","title":"ranks all number keywords"},{"ancestorTitles":["rank additional edge cases"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"rank additional edge cases returns 0 for empty string, NaN, Infinity, BigInt","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"returns 0 for empty string, NaN, Infinity, BigInt"},{"ancestorTitles":["isSpecialCard and friends edge cases"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"isSpecialCard and friends edge cases isTwoCard only matches two/two/2","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"isTwoCard only matches two/two/2"},{"ancestorTitles":["isSpecialCard and friends edge cases"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"isSpecialCard and friends edge cases isFiveCard only matches five/five/5","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"isFiveCard only matches five/five/5"},{"ancestorTitles":["isSpecialCard and friends edge cases"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"isSpecialCard and friends edge cases isTenCard only matches ten/ten/10","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"isTenCard only matches ten/ten/10"},{"ancestorTitles":["isSpecialCard and friends edge cases"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"isSpecialCard and friends edge cases isSpecialCard does not match other keywords","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"status":"passed","title":"isSpecialCard does not match other keywords"},{"ancestorTitles":["isFourOfAKind additional edge cases"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"isFourOfAKind additional edge cases works for all number keywords and mixed case","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"status":"passed","title":"works for all number keywords and mixed case"},{"ancestorTitles":["isFourOfAKind additional edge cases"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"isFourOfAKind additional edge cases returns false if only first 4 match but 5th is different","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"returns false if only first 4 match but 5th is different"},{"ancestorTitles":["isFourOfAKind additional edge cases"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"isFourOfAKind additional edge cases returns false if only 3 of 4 match","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"returns false if only 3 of 4 match"},{"ancestorTitles":["isFourOfAKind additional edge cases"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"isFourOfAKind additional edge cases works with duplicate suits and all suits the same","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"works with duplicate suits and all suits the same"}],"endTime":1768775255762,"message":"","name":"C:\\Top-That-Refactor\\tests\\cardUtils.test.ts","startTime":1768775255703,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Rules modal interactions"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Rules modal interactions opens and closes the rules modal","invocations":1,"location":null,"numPassingAsserts":7,"retryReasons":[],"status":"passed","title":"opens and closes the rules modal"}],"endTime":1768775255825,"message":"","name":"C:\\Top-That-Refactor\\public\\scripts\\rulesModal.test.ts","startTime":1768775255769,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Lobby joining"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Lobby joining first player join emits lobby state","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"first player join emits lobby state"},{"ancestorTitles":["Lobby joining"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Lobby joining second player join updates lobby for all","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"second player join updates lobby for all"},{"ancestorTitles":["Lobby joining"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Lobby joining cannot join after game start","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"cannot join after game start"},{"ancestorTitles":["GameRoomManager"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"GameRoomManager joining unknown room returns error","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"joining unknown room returns error"},{"ancestorTitles":["Lobby joining edge cases"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Lobby joining edge cases joining with missing playerName returns error","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"joining with missing playerName returns error"},{"ancestorTitles":["Lobby joining edge cases"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Lobby joining edge cases joining with duplicate id does not create new player","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"joining with duplicate id does not create new player"},{"ancestorTitles":["Lobby joining edge cases"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Lobby joining edge cases joining with special characters in name/roomId works","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"joining with special characters in name/roomId works"},{"ancestorTitles":["Lobby joining edge cases"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Lobby joining edge cases joining with custom numHumans/numCPUs is respected","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"joining with custom numHumans/numCPUs is respected"},{"ancestorTitles":["Lobby joining edge cases"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Lobby joining edge cases ack callback is called with correct data on success","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"ack callback is called with correct data on success"},{"ancestorTitles":["Lobby joining edge cases"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Lobby joining edge cases ack callback is called with error on invalid join","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"ack callback is called with error on invalid join"},{"ancestorTitles":["Lobby joining edge cases"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Lobby joining edge cases player can leave and rejoin, lobby state updates","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"player can leave and rejoin, lobby state updates"}],"endTime":1768775255885,"message":"","name":"C:\\Top-That-Refactor\\tests\\lobbyServer.test.ts","startTime":1768775255833,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["GameState deck and dealCards"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"GameState deck and dealCards buildDeck creates 52 unique cards and shuffles for < 5 players","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"buildDeck creates 52 unique cards and shuffles for < 5 players"},{"ancestorTitles":["GameState deck and dealCards"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"GameState deck and dealCards buildDeck creates 104 cards (2 decks) for 5 or more players","invocations":1,"location":null,"numPassingAsserts":54,"retryReasons":[],"status":"passed","title":"buildDeck creates 104 cards (2 decks) for 5 or more players"},{"ancestorTitles":["GameState deck and dealCards"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"GameState deck and dealCards endGameInstance resets deck to null and clears pile/discard","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"endGameInstance resets deck to null and clears pile/discard"},{"ancestorTitles":["GameState deck and dealCards"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"GameState deck and dealCards dealCards deals correct number for 2 players, 3 hand","invocations":1,"location":null,"numPassingAsserts":10,"retryReasons":[],"status":"passed","title":"dealCards deals correct number for 2 players, 3 hand"},{"ancestorTitles":["GameState deck and dealCards"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"GameState deck and dealCards dealCards deals correct number for 4 players, 3 hand","invocations":1,"location":null,"numPassingAsserts":16,"retryReasons":[],"status":"passed","title":"dealCards deals correct number for 4 players, 3 hand"},{"ancestorTitles":["GameState deck and dealCards"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"GameState deck and dealCards dealCards deals correct number for 3 players, 2 hand","invocations":1,"location":null,"numPassingAsserts":13,"retryReasons":[],"status":"passed","title":"dealCards deals correct number for 3 players, 2 hand"},{"ancestorTitles":["GameState deck and dealCards"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"GameState deck and dealCards dealCards deals correct number for 1 players, 5 hand","invocations":1,"location":null,"numPassingAsserts":7,"retryReasons":[],"status":"passed","title":"dealCards deals correct number for 1 players, 5 hand"},{"ancestorTitles":["GameState deck and dealCards"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"GameState deck and dealCards dealCards with negative or non-integer handSize deals zero cards","invocations":1,"location":null,"numPassingAsserts":12,"retryReasons":[],"status":"passed","title":"dealCards with negative or non-integer handSize deals zero cards"},{"ancestorTitles":["GameState deck and dealCards"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"GameState deck and dealCards dealCards handles scenario with 0 players","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"dealCards handles scenario with 0 players"},{"ancestorTitles":["GameState deck and dealCards"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"GameState deck and dealCards dealCards handles scenario where deck might not have enough cards (gracefully deals what it can)","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"dealCards handles scenario where deck might not have enough cards (gracefully deals what it can)"},{"ancestorTitles":["GameState deck and dealCards"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"GameState deck and dealCards dealt hands, upCards, and downCards are independent arrays (not references to deck or each other)","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"dealt hands, upCards, and downCards are independent arrays (not references to deck or each other)"},{"ancestorTitles":["GameState deck and dealCards"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"GameState deck and dealCards dealCards handles more players than possible (deck exhaustion, no throw)","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"dealCards handles more players than possible (deck exhaustion, no throw)"},{"ancestorTitles":["GameState deck and dealCards"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"GameState deck and dealCards deck uniqueness: no duplicates for single deck, two of each for double deck","invocations":1,"location":null,"numPassingAsserts":106,"retryReasons":[],"status":"passed","title":"deck uniqueness: no duplicates for single deck, two of each for double deck"},{"ancestorTitles":["GameState deck and dealCards"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"GameState deck and dealCards deck state after multiple deals: deck shrinks, hands reflect remaining cards","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"deck state after multiple deals: deck shrinks, hands reflect remaining cards"},{"ancestorTitles":["GameState deck and dealCards"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"GameState deck and dealCards integration: build, deal, end, rebuild, deal again","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"integration: build, deal, end, rebuild, deal again"},{"ancestorTitles":["GameState deck and dealCards"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"GameState deck and dealCards dealCards with hand size 0 returns empty hands, upCards, downCards","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"dealCards with hand size 0 returns empty hands, upCards, downCards"},{"ancestorTitles":["GameState deck and dealCards"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"GameState deck and dealCards dealCards with more players than maxPlayers only deals up to maxPlayers","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"dealCards with more players than maxPlayers only deals up to maxPlayers"},{"ancestorTitles":["GameState deck and dealCards"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"GameState deck and dealCards mutating a dealt card does not affect deck or other hands","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"mutating a dealt card does not affect deck or other hands"}],"endTime":1768775255956,"message":"","name":"C:\\Top-That-Refactor\\tests\\gameState.deck.test.ts","startTime":1768775255911,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["handleJoinLink"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"handleJoinLink should handle join link in URL and emit JOIN_GAME","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should handle join link in URL and emit JOIN_GAME"},{"ancestorTitles":["handleJoinLink"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"handleJoinLink should not run join link logic if already in-session","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should not run join link logic if already in-session"},{"ancestorTitles":["handleJoinLink"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"handleJoinLink should do nothing if no room param in URL","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should do nothing if no room param in URL"},{"ancestorTitles":["handleJoinLink"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"handleJoinLink should do nothing if room param is empty","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should do nothing if room param is empty"},{"ancestorTitles":["handleJoinLink"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"handleJoinLink should handle room param with whitespace and trim","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle room param with whitespace and trim"},{"ancestorTitles":["handleJoinLink"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"handleJoinLink should handle room param with special characters","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle room param with special characters"},{"ancestorTitles":["handleJoinLink"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"handleJoinLink should handle multiple room params (first wins)","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle multiple room params (first wins)"},{"ancestorTitles":["handleJoinLink"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"handleJoinLink should call window.history.replaceState with correct args","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should call window.history.replaceState with correct args"},{"ancestorTitles":["handleJoinLink"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"handleJoinLink should not throw if setCurrentRoom or socket.emit throws","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should not throw if setCurrentRoom or socket.emit throws"},{"ancestorTitles":["handleJoinLink"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"handleJoinLink should do nothing if document.body is missing","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should do nothing if document.body is missing"}],"endTime":1768775256011,"message":"","name":"C:\\Top-That-Refactor\\tests\\handleJoinLink.unit.test.ts","startTime":1768775255968,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["GameState"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"GameState initializes with default values","invocations":1,"location":null,"numPassingAsserts":7,"retryReasons":[],"status":"passed","title":"initializes with default values"},{"ancestorTitles":["GameState"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"GameState addPlayer adds a player ID and does not exceed maxPlayers","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"status":"passed","title":"addPlayer adds a player ID and does not exceed maxPlayers"},{"ancestorTitles":["GameState","addPlayer edge cases"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"GameState addPlayer edge cases does not add duplicate player IDs","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"does not add duplicate player IDs"},{"ancestorTitles":["GameState","addPlayer edge cases"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"GameState addPlayer edge cases does not add empty string as player ID","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"does not add empty string as player ID"},{"ancestorTitles":["GameState","addPlayer edge cases"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"GameState addPlayer edge cases does not add null or undefined as player ID","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"does not add null or undefined as player ID"},{"ancestorTitles":["GameState","removePlayer edge cases"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"GameState removePlayer edge cases removing a non-existent player does nothing","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"removing a non-existent player does nothing"},{"ancestorTitles":["GameState","removePlayer edge cases"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"GameState removePlayer edge cases removing from empty list does not throw","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"removing from empty list does not throw"},{"ancestorTitles":["GameState","removePlayer edge cases"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"GameState removePlayer edge cases removing empty string does not throw","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"removing empty string does not throw"},{"ancestorTitles":["GameState","advancePlayer"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"GameState advancePlayer advances to the next player","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"advances to the next player"},{"ancestorTitles":["GameState","advancePlayer"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"GameState advancePlayer wraps around to the first player","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"wraps around to the first player"},{"ancestorTitles":["GameState","advancePlayer"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"GameState advancePlayer does nothing if no players","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"does nothing if no players"},{"ancestorTitles":["GameState","advancePlayer edge cases"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"GameState advancePlayer edge cases with one player, always stays at index 0","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"with one player, always stays at index 0"},{"ancestorTitles":["GameState","advancePlayer edge cases"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"GameState advancePlayer edge cases after removing current player, advances correctly","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"after removing current player, advances correctly"},{"ancestorTitles":["GameState","addToPile"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"GameState addToPile adds a card to the pile","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"adds a card to the pile"},{"ancestorTitles":["GameState","addToPile"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"GameState addToPile adds a card as a copy if options.isCopy is true","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"adds a card as a copy if options.isCopy is true"},{"ancestorTitles":["GameState","addToPile"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"GameState addToPile addToPile does not mutate the original card object","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"addToPile does not mutate the original card object"},{"ancestorTitles":["GameState","addToPile edge cases"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"GameState addToPile edge cases does not throw if card is null or undefined","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"does not throw if card is null or undefined"},{"ancestorTitles":["GameState"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"GameState clearPile moves pile to discard and resets pile and lastRealCard","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"clearPile moves pile to discard and resets pile and lastRealCard"},{"ancestorTitles":["GameState"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"GameState clearPile on empty pile does not throw and does not affect discard","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"clearPile on empty pile does not throw and does not affect discard"},{"ancestorTitles":["GameState"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"GameState clearPile does not mutate the original pile array","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"clearPile does not mutate the original pile array"},{"ancestorTitles":["GameState","isFourOfAKindOnPile"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"GameState isFourOfAKindOnPile returns true if top 4 cards have the same value property","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"returns true if top 4 cards have the same value property"},{"ancestorTitles":["GameState","isFourOfAKindOnPile"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"GameState isFourOfAKindOnPile returns false if less than 4 cards on pile","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"returns false if less than 4 cards on pile"},{"ancestorTitles":["GameState","isFourOfAKindOnPile"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"GameState isFourOfAKindOnPile returns false if top 4 are not four of a kind by value","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"returns false if top 4 are not four of a kind by value"},{"ancestorTitles":["GameState","isFourOfAKindOnPile"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"GameState isFourOfAKindOnPile isFourOfAKindOnPile directly compares values, not normalized values","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"isFourOfAKindOnPile directly compares values, not normalized values"},{"ancestorTitles":["GameState","isFourOfAKindOnPile parameterized"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"GameState isFourOfAKindOnPile parameterized returns [ [Object], [Object], [Object], [Object] ] for true","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"returns [ [Object], [Object], [Object], [Object] ] for true"},{"ancestorTitles":["GameState","isFourOfAKindOnPile parameterized"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"GameState isFourOfAKindOnPile parameterized returns [ [Object], [Object], [Object], [Object] ] for true","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"returns [ [Object], [Object], [Object], [Object] ] for true"},{"ancestorTitles":["GameState","isFourOfAKindOnPile parameterized"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"GameState isFourOfAKindOnPile parameterized returns [ [Object], [Object], [Object], [Object] ] for false","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"returns [ [Object], [Object], [Object], [Object] ] for false"},{"ancestorTitles":["GameState","isFourOfAKindOnPile parameterized"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"GameState isFourOfAKindOnPile parameterized returns [ [Object], [Object], [Object], [Object] ] for false","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"returns [ [Object], [Object], [Object], [Object] ] for false"},{"ancestorTitles":["GameState","isFourOfAKindOnPile parameterized"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"GameState isFourOfAKindOnPile parameterized returns [ [Object], [Object], [Object] ] for false","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"returns [ [Object], [Object], [Object] ] for false"},{"ancestorTitles":["GameState","isValidPlay parameterized"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"GameState isValidPlay parameterized returns [] for false","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"returns [] for false"},{"ancestorTitles":["GameState","isValidPlay parameterized"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"GameState isValidPlay parameterized returns null for false","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"returns null for false"},{"ancestorTitles":["GameState","isValidPlay parameterized"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"GameState isValidPlay parameterized returns [ [Object] ] for true","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"returns [ [Object] ] for true"},{"ancestorTitles":["GameState","isValidPlay parameterized"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"GameState isValidPlay parameterized returns [ [Object], [Object] ] for true","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"returns [ [Object], [Object] ] for true"},{"ancestorTitles":["GameState","isValidPlay parameterized"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"GameState isValidPlay parameterized returns [ [Object], [Object] ] for false","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"returns [ [Object], [Object] ] for false"},{"ancestorTitles":["GameState"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"GameState isValidPlay allows four of a kind to burn any pile","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"isValidPlay allows four of a kind to burn any pile"},{"ancestorTitles":["GameState"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"GameState isValidPlay rejects lower pairs against higher pile","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"isValidPlay rejects lower pairs against higher pile"},{"ancestorTitles":["GameState"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"GameState lastRealCard updates after addToPile and resets after clearPile","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"lastRealCard updates after addToPile and resets after clearPile"},{"ancestorTitles":["GameState"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"GameState state after sequence: add, clear, add, check pile/discard/lastRealCard","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"status":"passed","title":"state after sequence: add, clear, add, check pile/discard/lastRealCard"}],"endTime":1768775256057,"message":"","name":"C:\\Top-That-Refactor\\tests\\gameState.test.ts","startTime":1768775256015,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["socketService"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"socketService registers socket event handlers and calls UI functions","invocations":1,"location":null,"numPassingAsserts":8,"retryReasons":[],"status":"passed","title":"registers socket event handlers and calls UI functions"},{"ancestorTitles":["socketService"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"socketService calls showLobbyForm if not rejoining on connect","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"calls showLobbyForm if not rejoining on connect"},{"ancestorTitles":["socketService"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"socketService calls renderGameState and showGameTable on STATE_UPDATE","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"calls renderGameState and showGameTable on STATE_UPDATE"},{"ancestorTitles":["socketService"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"socketService shows the game table when GAME_STARTED fires","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"shows the game table when GAME_STARTED fires"},{"ancestorTitles":["socketService"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"socketService recovers from ERROR event during gameplay","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"status":"passed","title":"recovers from ERROR event during gameplay"},{"ancestorTitles":["socketService"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"socketService resets session on session-error event","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"resets session on session-error event"}],"endTime":1768775256102,"message":"","name":"C:\\Top-That-Refactor\\public\\scripts\\socketService.test.ts","startTime":1768775256061,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Player model"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Player model initializes with an id and empty card arrays","invocations":1,"location":null,"numPassingAsserts":7,"retryReasons":[],"status":"passed","title":"initializes with an id and empty card arrays"},{"ancestorTitles":["Player model"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Player model setHand replaces hand and sorts it","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"setHand replaces hand and sorts it"},{"ancestorTitles":["Player model"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Player model setUpCards replaces upCards","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"setUpCards replaces upCards"},{"ancestorTitles":["Player model"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Player model setDownCards replaces downCards","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"setDownCards replaces downCards"},{"ancestorTitles":["Player model"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Player model setHand does not mutate the original array","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"setHand does not mutate the original array"},{"ancestorTitles":["Player model"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Player model setUpCards does not mutate the original array","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"setUpCards does not mutate the original array"},{"ancestorTitles":["Player model"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Player model setDownCards does not mutate the original array","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"setDownCards does not mutate the original array"},{"ancestorTitles":["Player model","playing cards"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Player model playing cards playFromHand removes and returns card from hand","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"playFromHand removes and returns card from hand"},{"ancestorTitles":["Player model","playing cards"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Player model playing cards playUpCard removes and returns card from upCards","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"playUpCard removes and returns card from upCards"},{"ancestorTitles":["Player model","playing cards"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Player model playing cards playDownCard removes and returns a random card from downCards","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"playDownCard removes and returns a random card from downCards"},{"ancestorTitles":["Player model"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Player model pickUpPile adds cards to hand and re-sorts","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"pickUpPile adds cards to hand and re-sorts"},{"ancestorTitles":["Player model"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Player model pickUpPile with empty pile does not change hand","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"pickUpPile with empty pile does not change hand"},{"ancestorTitles":["Player model"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Player model pickUpPile with duplicate cards adds and sorts correctly","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"pickUpPile with duplicate cards adds and sorts correctly"},{"ancestorTitles":["Player model"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Player model pickUpPile with special cards (2, 10, 5) sorts them by rank","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"pickUpPile with special cards (2, 10, 5) sorts them by rank"},{"ancestorTitles":["Player model","empty checks"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Player model empty checks hasEmptyHand","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"hasEmptyHand"},{"ancestorTitles":["Player model","empty checks"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Player model empty checks hasEmptyUp","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"hasEmptyUp"},{"ancestorTitles":["Player model","empty checks"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Player model empty checks hasEmptyDown","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"hasEmptyDown"},{"ancestorTitles":["Player model"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Player model can set and get socketId","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"can set and get socketId"},{"ancestorTitles":["Player model"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Player model can set and get status and ready properties","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"status":"passed","title":"can set and get status and ready properties"},{"ancestorTitles":["Player model","Player card play edge cases"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Player model Player card play edge cases playFromHand returns undefined for invalid index","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"playFromHand returns undefined for invalid index"},{"ancestorTitles":["Player model","Player card play edge cases"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Player model Player card play edge cases playUpCard returns undefined for invalid index","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"playUpCard returns undefined for invalid index"},{"ancestorTitles":["Player model","Player card play edge cases"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Player model Player card play edge cases playDownCard returns undefined if downCards is empty","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"playDownCard returns undefined if downCards is empty"}],"endTime":1768775256143,"message":"","name":"C:\\Top-That-Refactor\\tests\\player.test.ts","startTime":1768775256106,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["uiHelpers"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"uiHelpers showGameOverMessage displays win message and attaches play again handler","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"showGameOverMessage displays win message and attaches play again handler"},{"ancestorTitles":["uiHelpers"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"uiHelpers showGameOverMessage displays loss message with winner name","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"showGameOverMessage displays loss message with winner name"},{"ancestorTitles":["uiHelpers"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"uiHelpers validateName returns name if valid","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"validateName returns name if valid"},{"ancestorTitles":["uiHelpers"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"uiHelpers validateName returns null and alerts if name is invalid","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"validateName returns null and alerts if name is invalid"},{"ancestorTitles":["uiHelpers"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"uiHelpers showToast displays a toast and removes it after timeout","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"showToast displays a toast and removes it after timeout"}],"endTime":1768775256183,"message":"","name":"C:\\Top-That-Refactor\\tests\\public\\scripts\\uiHelpers.test.ts","startTime":1768775256147,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Special Card Rules"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Special Card Rules 2 resets the pile without clearing it","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"2 resets the pile without clearing it"},{"ancestorTitles":["Special Card Rules"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Special Card Rules 5 copies the last real card onto the pile","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"5 copies the last real card onto the pile"},{"ancestorTitles":["Special Card Rules"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Special Card Rules 5 copies a 10 and burns the pile","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"5 copies a 10 and burns the pile"},{"ancestorTitles":["Special Card Rules"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Special Card Rules 10 burns the pile and removes it from the game","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"10 burns the pile and removes it from the game"},{"ancestorTitles":["Special Card Rules"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Special Card Rules four of a kind burns even when lower than the pile","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"four of a kind burns even when lower than the pile"}],"endTime":1768775256222,"message":"","name":"C:\\Top-That-Refactor\\tests\\specialCardRules.test.ts","startTime":1768775256187,"status":"passed","summary":""}],"wasInterrupted":false}
